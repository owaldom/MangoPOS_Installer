import{a as at}from"./chunk-AZZG3GED.js";import{a as it}from"./chunk-V3DAK33I.js";import{a as W}from"./chunk-GZG33B4A.js";import"./chunk-ISB5W5SX.js";import{a as he}from"./chunk-NL74O3Y5.js";import{a as tt}from"./chunk-6XGWOI35.js";import"./chunk-DEAF3FKS.js";import"./chunk-34EVCEMG.js";import{a as nt}from"./chunk-BK63NQ7D.js";import"./chunk-7UZYWCAJ.js";import"./chunk-7KQW3R3P.js";import{c as Te,d as Oe,f as ye,g as be,h as Be}from"./chunk-CJPLD6EO.js";import{b as Je,c as Ye}from"./chunk-HIZ742YJ.js";import"./chunk-XEWEKXFC.js";import{a as Ze}from"./chunk-NN3ONOAJ.js";import{a as et}from"./chunk-RFRKPPY3.js";import{a as ue,b as fe,c as Ke,d as Qe,e as _e,f as xe,g as Xe,h as N}from"./chunk-Z6YHTX75.js";import{a as Re,b as He}from"./chunk-26KDQVR5.js";import{a as V}from"./chunk-DGQM6DPS.js";import{a as Le}from"./chunk-SCPRHZYR.js";import"./chunk-EQXJNMRX.js";import{b as te,c as ne}from"./chunk-APXOZHQA.js";import{a as ie,b as ae,c as oe,d as re,e as le,f as me,g as de,h as ce,i as se,j as pe,l as ge}from"./chunk-VJGP4MMT.js";import{a as qe,b as Ge}from"./chunk-VNZMNOUU.js";import"./chunk-YCMZOG5D.js";import{a as $e,b as Ae,c as Ve,f as Ne,h as We}from"./chunk-ZWM7H6SC.js";import{a as je}from"./chunk-PALJ6VDH.js";import"./chunk-TEMJ73U5.js";import{d as Fe}from"./chunk-52A733DE.js";import"./chunk-GPHRSLLH.js";import{b as X,e as ze,f as Ue,i as Z,j as ee}from"./chunk-EWTXOCXT.js";import{b as J,f as Y,j as K,x as Q}from"./chunk-AVLO2MYP.js";import{a as $,b as A}from"./chunk-JI7GBIO6.js";import"./chunk-VTP6RNFS.js";import{H as G,I as R,K as H}from"./chunk-M7DMR53X.js";import"./chunk-JAVK727W.js";import"./chunk-3TNWXQYU.js";import"./chunk-UWUK32S4.js";import{k as q,l as B,r as I,s as b,v as F}from"./chunk-ZD4QWOHN.js";import{$ as _,Fb as c,Gb as i,Hb as n,Ib as k,Lc as L,Mb as C,Nb as v,Pb as w,Ub as f,Wa as l,Wb as s,db as T,ea as P,fa as y,gc as E,ic as o,jb as O,jc as U,kc as u,lc as Ee,mc as Ie,nc as M,oc as S,pb as g,pc as D,rc as j,sc as ke,vc as x,wc as Pe,xc as h,zb as we}from"./chunk-WSMHJDAT.js";import{a as Se,b as De}from"./chunk-C6Q5SG76.js";function Ct(t,m){if(t&1&&(i(0,"div",3)(1,"label"),o(2,"Equivalente en Bs."),n(),i(3,"span",29),o(4),x(5,"number"),n()()),t&2){let e=s();l(4),u("",h(5,1,e.data.supplier.balance*e.data.exchangeRate,e.settingsService.getDecimalFormat("total"))," Bs.")}}function vt(t,m){if(t&1&&(i(0,"mat-option",30),o(1),x(2,"number"),n()),t&2){let e=m.$implicit,r=s();c("value",e),l(),Ee(" ",e.dateInvoices," - Saldo: $ ",h(2,3,e.balance,r.settingsService.getDecimalFormat("total"))," ")}}function Pt(t,m){if(t&1){let e=w();i(0,"mat-form-field",7)(1,"mat-label"),o(2,"Monto a Pagar (Bs)"),n(),i(3,"span",31),o(4,"Bs. \xA0"),n(),i(5,"input",32),D("ngModelChange",function(a){P(e);let d=s();return S(d.amountBs,a)||(d.amountBs=a),y(a)}),f("ngModelChange",function(a){P(e);let d=s();return y(d.onAmountBsChange(a))}),n()()}if(t&2){let e=s();l(5),M("ngModel",e.amountBs)}}function yt(t,m){if(t&1){let e=w();i(0,"mat-form-field",7)(1,"mat-label"),o(2,"Monto a Pagar (USD)"),n(),i(3,"span",31),o(4,"$ \xA0"),n(),i(5,"input",32),D("ngModelChange",function(a){P(e);let d=s();return S(d.amountUsd,a)||(d.amountUsd=a),y(a)}),f("ngModelChange",function(a){P(e);let d=s();return y(d.onAmountUsdChange(a))}),n()()}if(t&2){let e=s();l(5),M("ngModel",e.amountUsd)}}function bt(t,m){if(t&1&&(i(0,"span",36),o(1,"Equivale a: "),i(2,"strong"),o(3),x(4,"number"),n()()),t&2){let e=s(2);l(3),u("$ ",h(4,1,e.amountUsd,e.totalFormat))}}function Mt(t,m){if(t&1&&(i(0,"span",36),o(1,"Equivale a: "),i(2,"strong"),o(3),x(4,"number"),n()()),t&2){let e=s(2);l(3),u("",h(4,1,e.amountBs,e.totalFormat)," Bs.")}}function St(t,m){if(t&1&&(i(0,"div",33)(1,"span",34),o(2,"Tasa: "),i(3,"strong"),o(4),x(5,"number"),n()(),g(6,bt,5,4,"span",35)(7,Mt,5,4,"span",35),n()),t&2){let e=s();l(4),U(h(5,3,e.data.exchangeRate,"1.2-2")),l(2),c("ngIf",e.selectedCurrency==="base"),l(),c("ngIf",e.selectedCurrency==="alt")}}function Dt(t,m){if(t&1&&(i(0,"mat-option",30),o(1),n()),t&2){let e=m.$implicit;c("value",e.id),l(),Ie(" ",e.name," - ",e.account_type_name," (",e.currency,") ")}}var dt=(()=>{class t{dialogRef;data;supplierService=_(W);settingsService=_(V);cdr=_(L);banksService=_(Ze);invoices=[];selectedInvoice=null;amountBs=0;amountUsd=0;paymentMethod="cash";numDocument="";bank="";selectedBankId="";banks=[];cedula="";reference="";account="";is_pago_movil=!1;selectedCurrency="base";totalFormat="1.2-2";constructor(e,r){this.dialogRef=e,this.data=r}ngOnInit(){this.loadInvoices(),this.loadBanks()}loadBanks(){this.banksService.getBanks(!0).subscribe(e=>{this.banks=e,this.cdr.markForCheck()})}loadInvoices(){this.supplierService.getInvoices(this.data.supplier.id).subscribe(e=>{this.invoices=e})}selectMethod(e){this.paymentMethod=e,this.is_pago_movil=e==="paper"||e==="PagoMovil",this.cdr.detectChanges()}getFilteredBanks(){return this.paymentMethod==="paper"||this.paymentMethod==="PagoMovil"?this.banks.filter(e=>e.allows_pago_movil):this.banks}onInvoiceChange(e){this.amountUsd=e.balance,this.onAmountUsdChange(this.amountUsd)}onAmountBsChange(e){let r=this.data.exchangeRate||1,a=this.settingsService.getSettings()?.total_decimals||2;this.amountUsd=parseFloat((e/r).toFixed(a)),this.cdr.markForCheck()}onAmountUsdChange(e){let r=this.data.exchangeRate||1,a=this.settingsService.getSettings()?.total_decimals||2;this.amountBs=parseFloat((e*r).toFixed(a)),this.cdr.markForCheck()}isValid(){return this.amountBs>0&&!!this.selectedInvoice}onCancel(){this.dialogRef.close()}onConfirm(){let e={supplier_id:this.data.supplier.id,payments:[{method:this.paymentMethod==="paper"?"PagoMovil":this.paymentMethod==="transfer"?"transfer":this.paymentMethod,total:this.selectedCurrency==="base"?this.amountBs:this.amountUsd,bank:this.banks.find(r=>r.id===this.selectedBankId)?.name||this.bank,bank_id:this.selectedBankId,numdocument:this.cedula,reference:this.reference,account_number:this.account,is_pago_movil:this.is_pago_movil,invoice_number:this.selectedInvoice.numberInvoice,amount_base:this.amountBs,currency_id:this.selectedCurrency==="base"?1:2,exchange_rate:this.data.exchangeRate}],exchange_rate:this.data.exchangeRate,currency_id:this.selectedCurrency==="base"?1:2};this.dialogRef.close(e)}static \u0275fac=function(r){return new(r||t)(T(ue),T(fe))};static \u0275cmp=O({type:t,selectors:[["app-cxp-payment-dialog"]],decls:70,vars:32,consts:[[1,"payment-container"],["mat-dialog-title",""],[1,"totals-summary"],[1,"total-item"],[1,"value-usd"],["class","total-item",4,"ngIf"],[1,"invoice-selection"],["appearance","outline"],[3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"payment-amount"],[1,"currency-tabs"],[3,"click"],["appearance","outline",4,"ngIf"],["class","exchange-rate-details",4,"ngIf"],[1,"payment-methods"],["type","button","mat-stroked-button","","color","primary",1,"method-btn",3,"click"],[1,"payment-details",3,"hidden"],["appearance","outline",2,"width","100%","margin-bottom","8px",3,"hidden"],["matInput","","placeholder","V-12345678 / 0412...",3,"ngModelChange","ngModel"],["matInput","","placeholder","\xDAltimos 4 d\xEDgitos o cuenta completa",3,"ngModelChange","ngModel"],[2,"display","flex","gap","8px"],["appearance","outline",2,"flex","1"],["matInput","","placeholder","Ref #",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value",""],[1,"actions"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"value-bs"],[3,"value"],["matTextPrefix",""],["matInput","","appMoneyInput","",3,"ngModelChange","ngModel"],[1,"exchange-rate-details"],[1,"rate-label"],["class","equivalent-hint",4,"ngIf"],[1,"equivalent-hint"]],template:function(r,a){r&1&&(i(0,"div",0)(1,"h2",1),o(2),n(),i(3,"mat-dialog-content")(4,"div",2)(5,"div",3)(6,"label"),o(7,"Deuda Total (USD)"),n(),i(8,"span",4),o(9),x(10,"number"),n()(),g(11,Ct,6,4,"div",5),n(),i(12,"div",6)(13,"mat-form-field",7)(14,"mat-label"),o(15,"Seleccionar Factura de Compra (Saldo en USD)"),n(),i(16,"mat-select",8),D("ngModelChange",function(p){return S(a.selectedInvoice,p)||(a.selectedInvoice=p),p}),f("selectionChange",function(p){return a.onInvoiceChange(p.value)}),g(17,vt,3,6,"mat-option",9),n()()(),i(18,"div",10)(19,"div",11)(20,"button",12),f("click",function(){return a.selectedCurrency="base"}),o(21,"Bs."),n(),i(22,"button",12),f("click",function(){return a.selectedCurrency="alt"}),o(23,"$ USD"),n()(),g(24,Pt,6,1,"mat-form-field",13)(25,yt,6,1,"mat-form-field",13)(26,St,8,6,"div",14),n(),i(27,"div",15)(28,"button",16),f("click",function(){return a.selectMethod("cash")}),i(29,"mat-icon"),o(30,"payments"),n(),o(31," Efectivo "),n(),i(32,"button",16),f("click",function(){return a.selectMethod("card")}),i(33,"mat-icon"),o(34,"credit_card"),n(),o(35," Tarjeta "),n(),i(36,"button",16),f("click",function(){return a.selectMethod("paper")}),i(37,"mat-icon"),o(38,"smartphone"),n(),o(39," Pago M\xF3vil "),n(),i(40,"button",16),f("click",function(){return a.selectMethod("transfer")}),i(41,"mat-icon"),o(42,"account_balance"),n(),o(43," Transferencia "),n()(),i(44,"div",17)(45,"mat-form-field",18)(46,"mat-label"),o(47,"C\xE9dula/Telf (Pago M\xF3vil)"),n(),i(48,"input",19),D("ngModelChange",function(p){return S(a.cedula,p)||(a.cedula=p),p}),n()(),i(49,"mat-form-field",18)(50,"mat-label"),o(51,"Cuenta de Destino"),n(),i(52,"input",20),D("ngModelChange",function(p){return S(a.account,p)||(a.account=p),p}),n()(),i(53,"div",21)(54,"mat-form-field",22)(55,"mat-label"),o(56,"Referencia"),n(),i(57,"input",23),D("ngModelChange",function(p){return S(a.reference,p)||(a.reference=p),p}),n()(),i(58,"mat-form-field",22)(59,"mat-label"),o(60,"Banco"),n(),i(61,"mat-select",24),D("ngModelChange",function(p){return S(a.selectedBankId,p)||(a.selectedBankId=p),p}),i(62,"mat-option",25),o(63,"Ninguno"),n(),g(64,Dt,2,4,"mat-option",9),n()()()()(),i(65,"mat-dialog-actions",26)(66,"button",27),f("click",function(){return a.onCancel()}),o(67,"Cancelar"),n(),i(68,"button",28),f("click",function(){return a.onConfirm()}),o(69," Confirmar Pago "),n()()()),r&2&&(l(2),u("Abono/Pago de Deuda - ",a.data.supplier.name),l(7),u("",h(10,29,a.data.supplier.balance,a.settingsService.getDecimalFormat("total"))," Bs."),l(2),c("ngIf",a.data.exchangeRate),l(5),M("ngModel",a.selectedInvoice),l(),c("ngForOf",a.invoices),l(3),E("active",a.selectedCurrency==="base"),l(2),E("active",a.selectedCurrency==="alt"),l(2),c("ngIf",a.selectedCurrency==="base"),l(),c("ngIf",a.selectedCurrency==="alt"),l(),c("ngIf",a.data.exchangeRate),l(2),E("active",a.paymentMethod==="cash"),l(4),E("active",a.paymentMethod==="card"),l(4),E("active",a.paymentMethod==="paper"),l(4),E("active",a.paymentMethod==="transfer"),l(4),c("hidden",a.paymentMethod==="cash"),l(),c("hidden",a.paymentMethod!=="paper"),l(3),M("ngModel",a.cedula),l(),c("hidden",a.paymentMethod!=="transfer"),l(3),M("ngModel",a.account),l(5),M("ngModel",a.reference),l(4),M("ngModel",a.selectedBankId),l(3),c("ngForOf",a.getFilteredBanks()),l(4),c("disabled",!a.isValid()))},dependencies:[F,q,B,Q,J,Y,K,N,_e,Xe,xe,A,$,H,R,ee,Z,X,ze,ne,te,Ge,qe,Fe,et,b],styles:[".payment-container[_ngcontent-%COMP%]{padding:20px}.totals-summary[_ngcontent-%COMP%]{background:#f5f5f5;padding:15px;border-radius:8px;margin-bottom:20px;display:flex;justify-content:space-around}.total-item[_ngcontent-%COMP%]{text-align:center}.total-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#666}.total-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.value-usd[_ngcontent-%COMP%]{color:#d32f2f}.value-bs[_ngcontent-%COMP%]{color:#555;font-size:1.1rem!important}.invoice-selection[_ngcontent-%COMP%]{margin-bottom:20px}.payment-methods[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:24px;margin-bottom:20px}.method-btn[_ngcontent-%COMP%]{height:60px!important;display:flex!important;flex-direction:column!important;align-items:center!important;justify-content:center!important}.method-btn.active[_ngcontent-%COMP%]{background-color:#3f51b5!important;color:#fff!important}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.exchange-rate-details[_ngcontent-%COMP%]{margin-top:12px;display:flex;flex-direction:column;gap:4px;padding-top:12px;border-top:1px dashed #ddd}.rate-label[_ngcontent-%COMP%]{font-size:.85rem;color:#3f51b5}.equivalent-hint[_ngcontent-%COMP%]{font-size:.9rem;color:#2e7d32}mat-form-field[_ngcontent-%COMP%]{width:100%}.currency-tabs[_ngcontent-%COMP%]{display:flex;gap:6px;margin-bottom:12px}.currency-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;height:40px;border-radius:8px;border:1px solid #ddd;background:#fff;cursor:pointer;font-weight:600;transition:all .2s}.currency-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#3875d5;color:#fff;border-color:#3875d5}.payment-amount[_ngcontent-%COMP%]{margin:20px 0;padding:16px;background:#f9f9fb;border:1px solid #eef0f2;border-radius:8px}"]})}return t})();function Et(t,m){t&1&&(i(0,"th",22),o(1," Fecha "),n())}function It(t,m){if(t&1&&(i(0,"td",23),o(1),x(2,"date"),n()),t&2){let e=m.$implicit;l(),u(" ",h(2,1,e.date,"dd/MM/yyyy HH:mm")," ")}}function kt(t,m){t&1&&(i(0,"th",22),o(1," Nro. Pago "),n())}function Tt(t,m){if(t&1&&(i(0,"td",23),o(1),n()),t&2){let e=m.$implicit;l(),u(" #",e.ticketNumber," ")}}function Ot(t,m){t&1&&(i(0,"th",22),o(1," Factura "),n())}function Bt(t,m){if(t&1&&(i(0,"td",23),o(1),n()),t&2){let e=m.$implicit;l(),u(" ",e.invoicePaid?"#"+e.invoicePaid:"-"," ")}}function Ft(t,m){t&1&&(i(0,"th",22),o(1," M\xE9todo "),n())}function Rt(t,m){if(t&1&&(i(0,"td",23),o(1),n()),t&2){let e=m.$implicit,r=s();l(),u(" ",r.getMethodLabel(e.method)," ")}}function Ht(t,m){t&1&&(i(0,"th",22),o(1," Detalles "),n())}function $t(t,m){if(t&1&&(i(0,"span")(1,"strong"),o(2,"Bco:"),n(),o(3),n()),t&2){let e=s(2).$implicit;l(3),u(" ",e.bank)}}function At(t,m){if(t&1&&(i(0,"span")(1,"strong"),o(2,"Ref:"),n(),o(3),n()),t&2){let e=s(2).$implicit;l(3),u(" ",e.reference)}}function Vt(t,m){if(t&1&&(i(0,"div",26),g(1,$t,4,1,"span",25)(2,At,4,1,"span",25),n()),t&2){let e=s().$implicit;l(),c("ngIf",e.bank),l(),c("ngIf",e.reference)}}function Nt(t,m){if(t&1&&(i(0,"span")(1,"strong"),o(2,"C\xE9dula:"),n(),o(3),n()),t&2){let e=s().$implicit;l(3),u(" ",e.cedula)}}function Wt(t,m){t&1&&k(0,"br")}function zt(t,m){t&1&&(i(0,"span"),o(1,"-"),n())}function Ut(t,m){if(t&1&&(i(0,"td",23),g(1,Vt,3,2,"div",24)(2,Nt,4,1,"span",25)(3,Wt,1,0,"br",25)(4,zt,2,0,"span",25),n()),t&2){let e=m.$implicit;l(),c("ngIf",e.bank||e.reference),l(),c("ngIf",e.cedula),l(),c("ngIf",e.cedula&&(e.bank||e.reference)),l(),c("ngIf",!e.bank&&!e.reference&&!e.cedula)}}function jt(t,m){t&1&&(i(0,"th",27),o(1," Monto "),n())}function Lt(t,m){if(t&1&&(i(0,"div",30),o(1),x(2,"number"),n()),t&2){let e=s().$implicit,r=s();l(),u(" $ ",h(2,1,e.amountUSD,r.settingsService.getDecimalFormat("total"))," ")}}function qt(t,m){if(t&1&&(i(0,"td",28)(1,"strong"),o(2),x(3,"number"),n(),g(4,Lt,3,4,"div",29),n()),t&2){let e=m.$implicit,r=s();l(2),u("",h(3,2,e.amountBs,r.settingsService.getDecimalFormat("total"))," Bs."),l(2),c("ngIf",e.amountUSD)}}function Gt(t,m){t&1&&(i(0,"th",22),o(1," Acciones "),n())}function Jt(t,m){if(t&1){let e=w();i(0,"td",23)(1,"button",31),f("click",function(){let a=P(e).$implicit,d=s();return y(d.printPayment(a))}),i(2,"mat-icon"),o(3,"print"),n()()()}}function Yt(t,m){t&1&&k(0,"tr",32)}function Kt(t,m){t&1&&k(0,"tr",33)}function Qt(t,m){t&1&&(i(0,"div",34),o(1," No hay historial de pagos registrados. "),n())}var ct=(()=>{class t{dialogRef;data;supplierService=_(W);settingsService=_(V);datePipe=_(I);decimalPipe=_(b);payments=[];displayedColumns=["date","ticketNumber","invoicePaid","method","details","amount","actions"];constructor(e,r){this.dialogRef=e,this.data=r}ngOnInit(){this.loadHistory()}loadHistory(){this.supplierService.getPaymentHistory(this.data.supplier.id).subscribe(e=>{this.payments=e})}getMethodLabel(e){return{cash:"Efectivo",card:"Tarjeta",paper:"Pago M\xF3vil",Vale:"Pago M\xF3vil",vale:"Pago M\xF3vil",transfer:"Transferencia",debt:"Cr\xE9dito",Credito:"Cr\xE9dito"}[e]||e}printPayment(e){let r=window.open("","_blank","width=400,height=600");if(!r)return;let a=`
            <html>
            <head>
                <title>Comprobante de Pago #${e.ticketNumber}</title>
                <style>
                    body { font-family: 'Courier New', Courier, monospace; font-size: 12px; margin: 10px; }
                    .header { text-align: center; border-bottom: 1px dashed #000; padding-bottom: 10px; margin-bottom: 10px; }
                    .row { display: flex; justify-content: space-between; margin-bottom: 5px; }
                    .footer { text-align: center; margin-top: 20px; font-size: 10px; border-top: 1px dashed #000; padding-top: 10px; }
                    .bold { font-weight: bold; }
                    .title { font-size: 14px; margin-bottom: 5px; }
                </style>
            </head>
            <body>
                <div class="header">
                    <div class="bold title">COMPROBANTE DE PAGO (PROVEEDOR)</div>
                    <div>${this.data.supplier.name}</div>
                    <div>RIF/CIF: ${this.data.supplier.cif||"N/A"}</div>
                </div>
                
                <div class="row"><span class="bold">Nro. Pago:</span> <span>#${e.ticketNumber}</span></div>
                <div class="row"><span class="bold">Fecha:</span> <span>${this.datePipe.transform(e.date,"dd/MM/yyyy HH:mm")}</span></div>
                <div class="row"><span class="bold">Metodo:</span> <span>${this.getMethodLabel(e.method)}</span></div>
                ${e.invoicePaid?`<div class="row"><span class="bold">Abono a Factura:</span> <span>#${e.invoicePaid}</span></div>`:""}
                
                <div style="margin: 15px 0; border-top: 1px solid #000; padding-top: 5px;">
                    ${e.bank?`<div class="row"><span>Banco:</span> <span>${e.bank}</span></div>`:""}
                    ${e.reference?`<div class="row"><span>Ref:</span> <span>${e.reference}</span></div>`:""}
                    ${e.cedula?`<div class="row"><span>Dato:</span> <span>${e.cedula}</span></div>`:""}
                </div>

                <div class="row" style="font-size: 14px;">
                    <span class="bold">MONTO PAGADO:</span>
                    <span class="bold">${this.decimalPipe.transform(e.amountBs,this.settingsService.getDecimalFormat("total"))} Bs.</span>
                </div>
                <div class="row" style="font-size: 12px; font-style: italic; color: #555;">
                    <span>Equivalente:</span>
                    <span>$ ${this.decimalPipe.transform(e.amountUSD,this.settingsService.getDecimalFormat("total"))}</span>
                </div>

                <div class="footer">
                    Pago registrado en sistema.<br>
                    ${this.datePipe.transform(new Date,"dd/MM/yyyy HH:mm")}
                </div>
                <script>window.onload = function() { window.print(); window.close(); }<\/script>
            </body>
            </html>
        `;r.document.write(a),r.document.close()}exportHistory(){let e=window.open("","_blank","width=800,height=600");if(!e)return;let r=this.payments.map(d=>`
            <tr>
                <td>${this.datePipe.transform(d.date,"dd/MM/yyyy HH:mm")}</td>
                <td>#${d.ticketNumber}</td>
                <td>${d.invoicePaid?"#"+d.invoicePaid:"-"}</td>
                <td>${this.getMethodLabel(d.method)}</td>
                <td style="font-size: 10px;">
                    ${d.bank?`<strong>Ban:</strong> ${d.bank}`:""}
                    ${d.reference?`<br><strong>Ref:</strong> ${d.reference}`:""}
                    ${d.cedula?`<br><strong>C\xE9dula:</strong> ${d.cedula}`:""}
                </td>
                <td style="text-align: right; font-weight: bold;">
                    ${this.decimalPipe.transform(d.amountBs,this.settingsService.getDecimalFormat("total"))} Bs.
                    <br><small style="color: #666;">$ ${this.decimalPipe.transform(d.amountUSD,this.settingsService.getDecimalFormat("total"))}</small>
                </td>
            </tr>
        `).join(""),a=`
            <html>
            <head>
                <title>Historial de CxP - ${this.data.supplier.name}</title>
                <style>
                    body { font-family: Arial, sans-serif; font-size: 12px; }
                    h1 { text-align: center; color: #333; margin-bottom: 5px; }
                    .meta { text-align: center; color: #666; margin-bottom: 20px; }
                    table { width: 100%; border-collapse: collapse; }
                    th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                    th { background-color: #f4f4f4; }
                </style>
            </head>
            <body>
                <h1>Historial de Cuentas por Pagar (Pagos)</h1>
                <div class="meta">
                    <strong>Proveedor:</strong> ${this.data.supplier.name} | 
                    <strong>RIF/CIF:</strong> ${this.data.supplier.cif||"N/A"}<br>
                    <strong>Generado:</strong> ${this.datePipe.transform(new Date,"dd/MM/yyyy HH:mm")}
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Nro. Pago</th>
                            <th>Factura Compra</th>
                            <th>M\xE9todo</th>
                            <th>Detalles</th>
                            <th style="text-align: right;">Monto</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${r}
                    </tbody>
                </table>
                <script>window.onload = function() { window.print(); window.close(); }<\/script>
            </body>
            </html>
        `;e.document.write(a),e.document.close()}static \u0275fac=function(r){return new(r||t)(T(ue),T(fe))};static \u0275cmp=O({type:t,selectors:[["app-cxp-history-dialog"]],features:[j([I,b])],decls:39,vars:5,consts:[[1,"history-container"],[1,"history-header"],["mat-dialog-title",""],[1,"header-actions"],["mat-stroked-button","","color","primary",3,"click"],["mat-icon-button","","mat-dialog-close",""],[1,"table-container"],["mat-table","",1,"full-width-table",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","ticketNumber"],["matColumnDef","invoicePaid"],["matColumnDef","method"],["matColumnDef","details"],["matColumnDef","amount"],["mat-header-cell","","style","text-align: right;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: right;",4,"matCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","empty-msg",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["class","details-col",4,"ngIf"],[4,"ngIf"],[1,"details-col"],["mat-header-cell","",2,"text-align","right"],["mat-cell","",2,"text-align","right"],["class","usd-equiv",4,"ngIf"],[1,"usd-equiv"],["mat-icon-button","","color","primary","title","Imprimir Comprobante",3,"click"],["mat-header-row",""],["mat-row",""],[1,"empty-msg"]],template:function(r,a){r&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2),o(3),n(),i(4,"div",3)(5,"button",4),f("click",function(){return a.exportHistory()}),i(6,"mat-icon"),o(7,"picture_as_pdf"),n(),o(8," Exportar Todo "),n(),i(9,"button",5)(10,"mat-icon"),o(11,"close"),n()()()(),i(12,"mat-dialog-content")(13,"div",6)(14,"table",7),C(15,8),g(16,Et,2,0,"th",9)(17,It,3,4,"td",10),v(),C(18,11),g(19,kt,2,0,"th",9)(20,Tt,2,1,"td",10),v(),C(21,12),g(22,Ot,2,0,"th",9)(23,Bt,2,1,"td",10),v(),C(24,13),g(25,Ft,2,0,"th",9)(26,Rt,2,1,"td",10),v(),C(27,14),g(28,Ht,2,0,"th",9)(29,Ut,5,4,"td",10),v(),C(30,15),g(31,jt,2,0,"th",16)(32,qt,5,5,"td",17),v(),C(33,18),g(34,Gt,2,0,"th",9)(35,Jt,4,0,"td",10),v(),g(36,Yt,1,0,"tr",19)(37,Kt,1,0,"tr",20),n(),g(38,Qt,2,0,"div",21),n()()()),r&2&&(l(3),u("Historial de Pagos - ",a.data.supplier.name),l(11),c("dataSource",a.payments),l(22),c("matHeaderRowDef",a.displayedColumns),l(),c("matRowDefColumns",a.displayedColumns),l(),c("ngIf",a.payments.length===0))},dependencies:[F,B,N,Qe,_e,xe,ge,ie,oe,de,re,ae,ce,le,me,se,pe,A,$,H,R,G,b,I],styles:[".history-container[_ngcontent-%COMP%]{padding:5px}.history-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 15px;border-bottom:1px solid #eee}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.mat-mdc-dialog-title[_ngcontent-%COMP%]{margin:0!important;font-size:1.25rem;color:#3f51b5;font-weight:500}.table-container[_ngcontent-%COMP%]{max-height:480px;overflow:auto;margin-top:10px;border:1px solid #f0f0f0;border-radius:4px}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{background:#f5f7f9!important;font-weight:600!important;color:#444!important}.details-col[_ngcontent-%COMP%]{font-size:.85rem;line-height:1.3;color:#666;display:flex;flex-direction:column}.details-col[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.usd-equiv[_ngcontent-%COMP%]{font-size:.75rem;color:#2e7d32;font-weight:500;display:block}.empty-msg[_ngcontent-%COMP%]{padding:80px 20px;text-align:center;color:#999}td.mat-cell[_ngcontent-%COMP%]{padding:12px 8px}tr.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#fcfcfc}"]})}return t})();var Xt=()=>["expandedDetail"];function Zt(t,m){t&1&&(i(0,"th",27),o(1,"\xA0"),n())}function en(t,m){t&1&&(i(0,"mat-icon"),o(1,"keyboard_arrow_down"),n())}function tn(t,m){t&1&&(i(0,"mat-icon"),o(1,"keyboard_arrow_up"),n())}function nn(t,m){if(t&1){let e=w();i(0,"td",28)(1,"button",29),f("click",function(a){let d=P(e).$implicit,p=s();return y(p.toggleExpand(d,a))}),g(2,en,2,0,"mat-icon",30)(3,tn,2,0,"mat-icon",30),n()()}if(t&2){let e=m.$implicit,r=s();l(2),c("ngIf",r.expandedElement!==e),l(),c("ngIf",r.expandedElement===e)}}function an(t,m){t&1&&(i(0,"th",31),o(1," RIF / CIF "),n())}function on(t,m){if(t&1&&(i(0,"td",28),o(1),n()),t&2){let e=m.$implicit;l(),u(" ",e.cif," ")}}function rn(t,m){t&1&&(i(0,"th",31),o(1," Nombre / Raz\xF3n Social "),n())}function ln(t,m){if(t&1&&(i(0,"td",28),o(1),n()),t&2){let e=m.$implicit;l(),u(" ",e.name," ")}}function mn(t,m){t&1&&(i(0,"th",31),o(1," Tel\xE9fono "),n())}function dn(t,m){if(t&1&&(i(0,"td",28),o(1),x(2,"phoneFormat"),x(3,"phoneFormat"),n()),t&2){let e=m.$implicit;l(),u(" ",Pe(2,1,e.phonecomm)||Pe(3,3,e.phonefact)||"-"," ")}}function cn(t,m){t&1&&(i(0,"th",32),o(1," Total Abonado (USD) "),n())}function sn(t,m){if(t&1&&(i(0,"small",37),o(1),x(2,"number"),n()),t&2){let e=s().$implicit,r=s();l(),u(" ",h(2,1,e.total_paid*r.currentExchangeRate,r.settingsService.getDecimalFormat("total"))," Bs. ")}}function pn(t,m){if(t&1&&(i(0,"td",33)(1,"div",34)(2,"span",35),o(3),x(4,"number"),n(),g(5,sn,3,4,"small",36),n()()),t&2){let e=m.$implicit,r=s();l(3),u("$ ",h(4,2,e.total_paid,r.settingsService.getDecimalFormat("total"))),l(2),c("ngIf",r.currentExchangeRate)}}function gn(t,m){t&1&&(i(0,"th",32),o(1," Saldo Deudor (USD) "),n())}function un(t,m){if(t&1&&(i(0,"small",37),o(1),x(2,"number"),n()),t&2){let e=s().$implicit,r=s();l(),u(" ",h(2,1,e.balance*r.currentExchangeRate,r.settingsService.getDecimalFormat("total"))," Bs. ")}}function fn(t,m){if(t&1&&(i(0,"td",33)(1,"div",34)(2,"span",38),o(3),x(4,"number"),n(),g(5,un,3,4,"small",36),n()()),t&2){let e=m.$implicit,r=s();l(3),u("$ ",h(4,2,e.balance,r.settingsService.getDecimalFormat("total"))),l(2),c("ngIf",r.currentExchangeRate)}}function _n(t,m){t&1&&(i(0,"th",31),o(1," Acciones "),n())}function xn(t,m){if(t&1){let e=w();i(0,"td",28)(1,"button",39),f("click",function(a){let d=P(e).$implicit,p=s();return a.stopPropagation(),y(p.openViewDialog(d))}),i(2,"mat-icon"),o(3,"visibility"),n()(),i(4,"button",40),f("click",function(a){let d=P(e).$implicit,p=s();return a.stopPropagation(),y(p.openHistoryDialog(d))}),i(5,"mat-icon"),o(6,"history"),n()(),i(7,"button",41),f("click",function(a){let d=P(e).$implicit,p=s();return a.stopPropagation(),y(p.openPaymentDialog(d))}),i(8,"mat-icon"),o(9,"payments"),n()()()}if(t&2){let e=s();l(7),c("disabled",!e.isCashOpened)("matTooltip",e.isCashOpened?"Abonar / Pagar":"Abra caja para registrar pagos")}}function hn(t,m){t&1&&(i(0,"div",46)(1,"span",47),o(2,"Cargando facturas..."),n()())}function Cn(t,m){t&1&&(i(0,"div",46)(1,"span",47),o(2,"No hay facturas pendientes."),n()())}function vn(t,m){if(t&1&&(i(0,"tr")(1,"td"),o(2),n(),i(3,"td"),o(4),n(),i(5,"td",51),o(6),x(7,"number"),n(),i(8,"td",52),o(9),x(10,"number"),n()()),t&2){let e=m.$implicit;l(2),U(e.dateInvoices),l(2),U(e.numberInvoice),l(2),u("$ ",h(7,4,e.paid,"1.2-2")),l(3),u("$ ",h(10,7,e.balance,"1.2-2"))}}function Pn(t,m){if(t&1&&(i(0,"table",48)(1,"thead")(2,"tr")(3,"th"),o(4,"Fecha"),n(),i(5,"th"),o(6,"N\xB0 Factura"),n(),i(7,"th",49),o(8,"Abonado (USD)"),n(),i(9,"th",49),o(10,"Saldo (USD)"),n()()(),i(11,"tbody"),g(12,vn,11,10,"tr",50),n()()),t&2){let e=s().$implicit,r=s();l(12),c("ngForOf",r.invoicesMap[e.id])}}function yn(t,m){if(t&1&&(i(0,"td",28)(1,"div",42)(2,"div",43),g(3,hn,3,0,"div",44)(4,Cn,3,0,"div",44)(5,Pn,13,1,"table",45),n()()()),t&2){let e=m.$implicit,r=s();we("colspan",r.displayedColumns.length),l(),c("@detailExpand",e==r.expandedElement?"expanded":"collapsed"),l(2),c("ngIf",!r.invoicesMap[e.id]),l(),c("ngIf",r.invoicesMap[e.id]&&r.invoicesMap[e.id].length===0),l(),c("ngIf",r.invoicesMap[e.id]&&r.invoicesMap[e.id].length>0)}}function bn(t,m){t&1&&k(0,"tr",53)}function Mn(t,m){if(t&1){let e=w();i(0,"tr",54),f("click",function(a){let d=P(e).$implicit,p=s();return y(p.toggleExpand(d,a))}),n()}if(t&2){let e=m.$implicit,r=s();E("expanded-row",r.expandedElement===e)}}function Sn(t,m){t&1&&k(0,"tr",55)}function Dn(t,m){t&1&&(i(0,"div",56),o(1," No se encontraron proveedores con saldo pendiente. "),n())}var ki=(()=>{class t{supplierService=_(W);settingsService=_(V);dialog=_(Ke);snackBar=_(Re);decimalPipe=_(b);datePipe=_(I);phoneFormatPipe=_(he);purchaseService=_(at);salesService=_(tt);cashService=_(nt);cdr=_(L);suppliers=[];searchText="";displayedColumns=["expand","cif","name","phone","total_paid","balance","actions"];expandedElement=null;invoicesMap={};isCashOpened=!1;currentExchangeRate=1;totalElements=0;pageSize=50;currentPage=1;async ngOnInit(){this.loadSuppliers(),this.isCashOpened=await this.cashService.checkStatus(),this.loadExchangeRate()}loadExchangeRate(){this.salesService.getCurrencies().subscribe(e=>{let r=e.find(a=>a.code==="USD");r&&(this.currentExchangeRate=r.exchange_rate)})}loadSuppliers(e=1){this.currentPage=e,this.supplierService.getAll(e,this.pageSize,this.searchText,!0).subscribe(r=>{this.suppliers=r.data,this.totalElements=r.total})}onPageChange(e){this.loadSuppliers(e.pageIndex+1)}toggleExpand(e,r){r.stopPropagation(),this.expandedElement=this.expandedElement===e?null:e,this.expandedElement&&!this.invoicesMap[e.id]&&this.reloadInvoices(e)}reloadInvoices(e){this.supplierService.getInvoices(e.id).subscribe(r=>{this.invoicesMap[e.id]=r})}openViewDialog(e){this.dialog.open(it,{width:"900px",maxWidth:"95vw",data:{supplier:e,viewOnly:!0}})}async openPaymentDialog(e){if(this.isCashOpened=await this.cashService.checkStatus(),!this.isCashOpened){this.snackBar.open("Debe tener una sesi\xF3n de caja abierta para registrar pagos.","Cerrar",{duration:5e3});return}this.salesService.getCurrencies().subscribe(r=>{let a=r.find(z=>z.code==="USD"),d=a?a.exchange_rate:1;this.dialog.open(dt,{width:"650px",maxWidth:"95vw",data:{supplier:e,exchangeRate:d}}).afterClosed().subscribe(z=>{if(z){let st=JSON.parse(localStorage.getItem("user")||"{}").id||1,pt=this.cashService.getCashRegisterId()||1,gt=De(Se({},z),{person_id:st,cash_register_id:pt,currency_id:z.currency_id,money_id:this.cashService.getMoneyId()||"CASH_MONEY"});this.purchaseService.createDebtPayment(gt).subscribe({next:()=>{let Ce=this.currentPage||1;this.supplierService.getAll(Ce,this.pageSize,this.searchText,!0).subscribe(Me=>{if(this.suppliers=Me.data,this.totalElements=Me.total,this.expandedElement&&this.expandedElement.id===e.id){let ve=this.suppliers.find(ut=>ut.id===e.id);ve&&(this.expandedElement=ve,this.reloadInvoices(ve))}else delete this.invoicesMap[e.id];this.cdr.markForCheck()}),this.snackBar.open("Pago procesado correctamente","Cerrar",{duration:3e3})},error:Ce=>{console.error(Ce),this.snackBar.open("Error al procesar el pago","Cerrar",{duration:5e3})}})}})})}openHistoryDialog(e){this.dialog.open(ct,{width:"900px",maxWidth:"95vw",data:{supplier:e}})}exportPdf(){let e=window.open("","_blank","width=800,height=600");if(!e)return;let r=this.suppliers.map(d=>`
        <tr>
            <td>${d.cif||""}</td>
            <td>${d.name}</td>
            <td>${this.phoneFormatPipe.transform(d.phonecomm||d.phonefact)}</td>
            <td style="text-align: right; color: green; font-weight: bold;">
                $${this.decimalPipe.transform(d.total_paid,this.settingsService.getDecimalFormat("total"))}
            </td>
            <td style="text-align: right; color: red; font-weight: bold;">
                $${this.decimalPipe.transform(d.balance,this.settingsService.getDecimalFormat("total"))}
            </td>
        </tr>
    `).join(""),a=`
        <html>
        <head>
            <title>Reporte de CxP Proveedores</title>
            <style>
                body { font-family: Arial, sans-serif; font-size: 12px; }
                h1 { text-align: center; color: #333; }
                .metadata { margin-bottom: 20px; text-align: center; color: #666; }
                table { width: 100%; border-collapse: collapse; margin-top: 10px; }
                th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                th { background-color: #f2f2f2; font-weight: bold; text-align: center; }
                tr:nth-child(even) { background-color: #f9f9f9; }
            </style>
        </head>
        <body>
            <h1>Reporte de CxP Proveedores (Deuda Pendiente - USD)</h1>
            <div class="metadata">
                <strong>Generado:</strong> ${this.datePipe.transform(new Date,"dd/MM/yyyy HH:mm")}
            </div>
            <table>
                <thead>
                    <tr>
                        <th>RIF / CIF</th>
                        <th>Nombre / Raz\xF3n Social</th>
                        <th>Tel\xE9fono</th>
                        <th>Total Abonado</th>
                        <th>Saldo Deudor</th>
                    </tr>
                </thead>
                <tbody>
                    ${r}
                </tbody>
            </table>
            <script>
                window.onload = function() { window.print(); window.close(); }
            <\/script>
        </body>
        </html>
    `;e.document.write(a),e.document.close()}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=O({type:t,selectors:[["app-cxp-proveedores"]],features:[j([b,I,he])],decls:48,vars:10,consts:[[1,"container"],[1,"main-card"],[1,"header-actions"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Nombre, RIF",3,"ngModelChange","keyup.enter","ngModel"],["mat-icon-button","","matSuffix","",3,"click"],["mat-stroked-button","",3,"click"],[1,"table-container"],["mat-table","","multiTemplateDataRows","",1,"full-width-table",3,"dataSource"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","cif"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","phone"],["matColumnDef","total_paid"],["mat-header-cell","","style","text-align: right;",4,"matHeaderCellDef"],["mat-cell","","class","debt-cell",4,"matCellDef"],["matColumnDef","balance"],["matColumnDef","actions"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","element-row",3,"expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageIndex"],["class","empty-msg",4,"ngIf"],["mat-header-cell","","aria-label","row actions"],["mat-cell",""],["mat-icon-button","","aria-label","expand row",3,"click"],[4,"ngIf"],["mat-header-cell",""],["mat-header-cell","",2,"text-align","right"],["mat-cell","",1,"debt-cell"],[1,"debt-container"],[1,"paid-amount"],["class","bs-equivalent",4,"ngIf"],[1,"bs-equivalent"],[1,"usd-amount"],["mat-icon-button","","color","accent","title","Ver Detalle",3,"click"],["mat-icon-button","","color","primary","title","Ver Historial de Pagos",3,"click"],["mat-icon-button","","color","warn",3,"click","disabled","matTooltip"],[1,"element-detail"],[1,"invoices-list"],["style","padding: 10px; text-align: center;",4,"ngIf"],["class","invoices-table",4,"ngIf"],[2,"padding","10px","text-align","center"],[2,"color","#666","font-style","italic"],[1,"invoices-table"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[1,"invoice-paid-amount",2,"text-align","right"],[1,"invoice-amount"],["mat-header-row",""],["mat-row","",1,"element-row",3,"click"],["mat-row","",1,"detail-row"],[1,"empty-msg"]],template:function(r,a){r&1&&(i(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),o(4,"CxP Proveedores (Deudas)"),n(),i(5,"div",2)(6,"mat-form-field",3)(7,"mat-label"),o(8,"Buscar proveedor..."),n(),i(9,"input",4),D("ngModelChange",function(p){return S(a.searchText,p)||(a.searchText=p),p}),f("keyup.enter",function(){return a.loadSuppliers()}),n(),i(10,"button",5),f("click",function(){return a.loadSuppliers()}),i(11,"mat-icon"),o(12,"search"),n()()(),i(13,"button",6),f("click",function(){return a.exportPdf()}),i(14,"mat-icon"),o(15,"picture_as_pdf"),n(),o(16," Exportar Reporte "),n()()(),i(17,"mat-card-content")(18,"div",7)(19,"table",8),C(20,9),g(21,Zt,2,0,"th",10)(22,nn,4,2,"td",11),v(),C(23,12),g(24,an,2,0,"th",13)(25,on,2,1,"td",11),v(),C(26,14),g(27,rn,2,0,"th",13)(28,ln,2,1,"td",11),v(),C(29,15),g(30,mn,2,0,"th",13)(31,dn,4,5,"td",11),v(),C(32,16),g(33,cn,2,0,"th",17)(34,pn,6,5,"td",18),v(),C(35,19),g(36,gn,2,0,"th",17)(37,fn,6,5,"td",18),v(),C(38,20),g(39,_n,2,0,"th",13)(40,xn,10,2,"td",11),v(),C(41,21),g(42,yn,6,5,"td",11),v(),g(43,bn,1,0,"tr",22)(44,Mn,1,2,"tr",23)(45,Sn,1,0,"tr",24),n(),i(46,"app-shared-paginator",25),f("page",function(p){return a.onPageChange(p)}),n()(),g(47,Dn,2,0,"div",26),n()()()),r&2&&(l(9),M("ngModel",a.searchText),l(10),c("dataSource",a.suppliers),l(24),c("matHeaderRowDef",a.displayedColumns),l(),c("matRowDefColumns",a.displayedColumns),l(),c("matRowDefColumns",ke(9,Xt)),l(),c("length",a.totalElements)("pageSize",a.pageSize)("pageIndex",a.currentPage-1),l(),c("ngIf",a.suppliers.length===0))},dependencies:[F,q,B,ge,ie,oe,de,re,ae,ce,le,me,se,pe,H,R,G,A,$,We,$e,Ve,Ne,Ae,ne,te,Z,X,Ue,ee,Q,J,Y,K,N,He,Le,je,Je,Ye,b,he],styles:[".container[_ngcontent-%COMP%]{padding:20px}.main-card[_ngcontent-%COMP%]{padding:10px}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-left:auto}.search-field[_ngcontent-%COMP%]{width:300px;margin-bottom:-1.25em}.full-width-table[_ngcontent-%COMP%]{width:100%;margin-top:20px}.empty-msg[_ngcontent-%COMP%]{padding:40px;text-align:center;color:#888;font-style:italic}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.debt-cell[_ngcontent-%COMP%]{text-align:right}.debt-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.usd-amount[_ngcontent-%COMP%]{color:#d32f2f;font-weight:700;font-size:1rem}.paid-amount[_ngcontent-%COMP%]{color:#388e3c;font-weight:700;font-size:1rem}.bs-equivalent[_ngcontent-%COMP%]{color:#757575;font-size:.75rem}.table-container[_ngcontent-%COMP%]{overflow-x:auto}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):hover{background:#f5f5f5}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):active{background:#efefef}.element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.detail-row[_ngcontent-%COMP%]{height:0}.element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex;width:100%;border-top:1px solid #eee;background:#fafafa}.invoices-list[_ngcontent-%COMP%]{width:100%;padding:16px}.invoices-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.9em}.invoices-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:8px;border-bottom:2px solid #ddd;color:#666}.invoices-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid #ddd}.invoice-amount[_ngcontent-%COMP%]{text-align:right;font-weight:500;color:#d32f2f}.invoice-paid-amount[_ngcontent-%COMP%]{text-align:right;font-weight:500;color:#388e3c}"],data:{animation:[Te("detailExpand",[be("collapsed,void",ye({height:"0px",minHeight:"0",visibility:"hidden"})),be("expanded",ye({height:"*",visibility:"visible"})),Be("expanded <=> collapsed",Oe("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return t})();export{ki as CxPProveedoresComponent};
