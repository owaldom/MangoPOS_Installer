import{a as c}from"./chunk-YCMZOG5D.js";import{c as a,d as o}from"./chunk-3TNWXQYU.js";import{$ as n,W as r}from"./chunk-WSMHJDAT.js";var U=(()=>{class s{static IN_PURCHASE={key:1,name:"Compra",sign:1};static IN_REFUND={key:2,name:"Devoluci\xF3n de Cliente",sign:1};static IN_MOVEMENT={key:4,name:"Entrada por Traspaso",sign:1};static OUT_SALE={key:-1,name:"Venta",sign:-1};static OUT_REFUND={key:-2,name:"Devoluci\xF3n a Proveedor",sign:-1};static OUT_BREAK={key:-3,name:"Merma / Rotura",sign:-1};static OUT_MOVEMENT={key:-4,name:"Salida por Traspaso",sign:-1};static OUT_CONSUMPTION={key:-5,name:"Consumo Interno",sign:-1};static OUT_DESPIECE={key:5,name:"Salida por Despiece",sign:-1};static IN_DESPIECE={key:6,name:"Entrada por Despiece",sign:1};static getAll(){return[this.IN_PURCHASE,this.IN_REFUND,this.IN_MOVEMENT,this.OUT_SALE,this.OUT_REFUND,this.OUT_BREAK,this.OUT_MOVEMENT,this.OUT_CONSUMPTION,this.OUT_DESPIECE,this.IN_DESPIECE]}}return s})(),u=(()=>{class s{http=n(o);apiUrl=`${c.apiUrl}/stock`;getMovements(t=1,e=50){let i=new a().set("page",t).set("limit",e);return this.http.get(`${this.apiUrl}/movements`,{params:i})}getLocations(){return this.http.get(`${this.apiUrl}/locations`)}getProductStock(t){return this.http.get(`${this.apiUrl}/product/${t}`)}createMovement(t){return t.date instanceof Date&&(t.date=this.formatLocalDate(t.date)),this.http.post(`${this.apiUrl}/movements`,t)}getLowStockReport(t={}){let e=new a;return t.categoryId&&(e=e.set("categoryId",t.categoryId)),t.search&&(e=e.set("search",t.search)),this.http.get(`${this.apiUrl}/low-stock`,{params:e})}createBulkMovement(t){return t.date instanceof Date&&(t.date=this.formatLocalDate(t.date)),this.http.post(`${this.apiUrl}/bulk-movements`,t)}formatLocalDate(t){let e=i=>i<10?"0"+i:i;return`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())} ${e(t.getHours())}:${e(t.getMinutes())}:${e(t.getSeconds())}`}static \u0275fac=function(e){return new(e||s)};static \u0275prov=r({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();export{U as a,u as b};
