import{a as k}from"./chunk-NN3ONOAJ.js";import{a as E,b as D}from"./chunk-N5ZCCEPE.js";import"./chunk-YCMZOG5D.js";import{a as M,b as v,c as O,f as b,h as P}from"./chunk-ZWM7H6SC.js";import{a as S,b as h}from"./chunk-JI7GBIO6.js";import"./chunk-JAVK727W.js";import"./chunk-3TNWXQYU.js";import"./chunk-UWUK32S4.js";import{k as x,l as C,v as _}from"./chunk-ZD4QWOHN.js";import{$ as u,Fb as d,Gb as e,Hb as n,Ib as y,Wa as r,Wb as g,ic as a,jb as f,jc as m,kc as p,pb as s}from"./chunk-WSMHJDAT.js";import"./chunk-C6Q5SG76.js";function I(i,l){i&1&&(e(0,"div",5),y(1,"mat-spinner",6),n())}function w(i,l){if(i&1&&(e(0,"div",20)(1,"div",21)(2,"span",22),a(3),n(),e(4,"span",23),a(5),n()(),e(6,"span",24),a(7),n()()),i&2){let t=l.$implicit,o=g(2);r(3),m(t.entity_name),r(2),m(t.currency),r(2),m(o.formatCurrency(t.total_balance,t.currency))}}function B(i,l){i&1&&(e(0,"div",25),a(1," No hay saldos registrados. "),n())}function T(i,l){if(i&1&&(e(0,"div",7)(1,"div",8)(2,"mat-card",9)(3,"mat-card-content")(4,"div",10)(5,"mat-icon"),a(6,"account_balance"),n()(),e(7,"div",11)(8,"span",12),a(9,"Total Bol\xEDvares (VES)"),n(),e(10,"h2",13),a(11),n(),e(12,"span",14),a(13),n()()()(),e(14,"mat-card",15)(15,"mat-card-content")(16,"div",10)(17,"mat-icon"),a(18,"attach_money"),n()(),e(19,"div",11)(20,"span",12),a(21,"Total D\xF3lares (USD)"),n(),e(22,"h2",13),a(23),n(),e(24,"span",14),a(25),n()()()()(),e(26,"div",16)(27,"mat-card")(28,"mat-card-header")(29,"mat-card-title"),a(30,"Distribuci\xF3n por Entidad"),n()(),e(31,"mat-card-content")(32,"div",17),s(33,w,8,3,"div",18),n(),s(34,B,2,0,"div",19),n()()()()),i&2){let t=g();r(11),m(t.formatCurrency(t.getCurrencyTotal("VES"),"VES")),r(2),p("",t.getAccountCount("VES")," cuentas activas"),r(10),m(t.formatCurrency(t.getCurrencyTotal("USD"),"USD")),r(2),p("",t.getAccountCount("USD")," cuentas activas"),r(8),d("ngForOf",t.summaryData.distribution),r(),d("ngIf",t.summaryData.distribution.length===0)}}var q=(()=>{class i{banksService=u(k);loading=!0;summaryData=null;ngOnInit(){this.loadSummary()}loadSummary(){this.loading=!0,this.banksService.getBanksSummary().subscribe({next:t=>{this.summaryData=t,this.loading=!1},error:t=>{console.error("Error loading summary:",t),this.loading=!1}})}getCurrencyTotal(t){if(!this.summaryData)return 0;let o=this.summaryData.totals.find(c=>c.currency===t);return o?Number(o.total_balance):0}getAccountCount(t){if(!this.summaryData)return 0;let o=this.summaryData.totals.find(c=>c.currency===t);return o?Number(o.account_count):0}formatCurrency(t,o){return`${o==="USD"?"$":"Bs."} ${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=f({type:i,selectors:[["app-bank-summary"]],decls:8,vars:2,consts:[[1,"summary-container","p-4"],[1,"header","mb-4"],[1,"text-muted"],["class","loading-overlay",4,"ngIf"],["class","dashboard-grid",4,"ngIf"],[1,"loading-overlay"],["diameter","50"],[1,"dashboard-grid"],[1,"totals-row"],[1,"total-card","ves"],[1,"card-icon"],[1,"card-info"],[1,"label"],[1,"value"],[1,"sub-label"],[1,"total-card","usd"],[1,"distribution-section","mt-4"],[1,"entity-list"],["class","entity-item",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"entity-item"],[1,"entity-info"],[1,"entity-name"],[1,"entity-currency"],[1,"entity-balance"],[1,"empty-state"]],template:function(o,c){o&1&&(e(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Resumen Bancario"),n(),e(4,"p",2),a(5,"Vista general de disponibilidad de fondos"),n()(),s(6,I,2,0,"div",3)(7,T,35,6,"div",4),n()),o&2&&(r(6),d("ngIf",c.loading),r(),d("ngIf",!c.loading&&c.summaryData))},dependencies:[_,x,C,P,M,O,b,v,h,S,D,E],styles:[".summary-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.totals-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.total-card[_ngcontent-%COMP%]{border-radius:12px;border:none;box-shadow:0 4px 12px #0000000d;transition:transform .2s}.total-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.total-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:24px!important}.total-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:20px}.total-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.total-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;color:#0009;display:block;margin-bottom:4px}.total-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0}.total-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .sub-label[_ngcontent-%COMP%]{font-size:12px;color:#0006}.total-card.ves[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f0f7ff)}.total-card.ves[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.total-card.usd[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f1f8e9)}.total-card.usd[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.entity-list[_ngcontent-%COMP%]{margin-top:10px}.entity-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-radius:8px;margin-bottom:8px;background-color:#fafafa;transition:background-color .2s}.entity-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.entity-item[_ngcontent-%COMP%]   .entity-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.entity-item[_ngcontent-%COMP%]   .entity-info[_ngcontent-%COMP%]   .entity-name[_ngcontent-%COMP%]{font-weight:600;color:#333}.entity-item[_ngcontent-%COMP%]   .entity-info[_ngcontent-%COMP%]   .entity-currency[_ngcontent-%COMP%]{font-size:11px;color:#888;font-weight:700}.entity-item[_ngcontent-%COMP%]   .entity-balance[_ngcontent-%COMP%]{font-weight:700;color:#1976d2}.empty-state[_ngcontent-%COMP%]{padding:40px;text-align:center;color:#999}.loading-overlay[_ngcontent-%COMP%]{height:400px;display:flex;align-items:center;justify-content:center}"]})}return i})();export{q as BankSummaryComponent};
