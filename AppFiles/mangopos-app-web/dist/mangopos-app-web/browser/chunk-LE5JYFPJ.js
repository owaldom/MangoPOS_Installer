import{a as P}from"./chunk-YSABNZJU.js";import{c as M}from"./chunk-6OXQWIOV.js";import{a as O,b as B}from"./chunk-26KDQVR5.js";import{a as $,b as tt}from"./chunk-N5ZCCEPE.js";import{b as K,c as W}from"./chunk-APXOZHQA.js";import{a as G,c as I,f as L,h as V}from"./chunk-ZWM7H6SC.js";import{b as Y,c as T,e as J,f as j,i as R,j as H}from"./chunk-EWTXOCXT.js";import{b as D,d as U,f as A,g as S,k,n as N,o as z,w as q,y as Q}from"./chunk-AVLO2MYP.js";import{a as X,b as Z}from"./chunk-JI7GBIO6.js";import"./chunk-VTP6RNFS.js";import{H as v,I as E,K as y}from"./chunk-M7DMR53X.js";import"./chunk-JAVK727W.js";import"./chunk-3TNWXQYU.js";import"./chunk-UWUK32S4.js";import{v as x}from"./chunk-ZD4QWOHN.js";import{$ as s,Ab as f,Bb as m,Fb as p,Gb as t,Hb as n,Ib as c,Mb as b,Nb as w,Ub as u,Wa as a,ic as o,jb as h,jc as _}from"./chunk-WSMHJDAT.js";import"./chunk-C6Q5SG76.js";function nt(i,d){i&1&&(t(0,"mat-error"),o(1,"El usuario es requerido"),n())}function et(i,d){i&1&&(t(0,"mat-error"),o(1,"La contrase\xF1a es requerida"),n())}function ot(i,d){i&1&&(t(0,"mat-error"),o(1,"M\xEDnimo 6 caracteres"),n())}function it(i,d){i&1&&c(0,"mat-spinner",18)}function rt(i,d){i&1&&(b(0),t(1,"span"),o(2,"Iniciar Sesi\xF3n"),n(),t(3,"mat-icon"),o(4,"arrow_forward"),n(),w())}var Et=(()=>{class i{fb=s(q);authService=s(P);router=s(M);snackBar=s(O);loginForm;hidePassword=!0;loading=!1;constructor(){this.loginForm=this.fb.group({username:["",[U.required]],password:["",[U.required,U.minLength(6)]]})}onSubmit(){if(this.loginForm.valid){this.loading=!0;let{username:C,password:l}=this.loginForm.value;this.authService.login(C,l).subscribe({next:e=>{this.loading=!1,this.snackBar.open("Bienvenido "+e.data.user.name,"Cerrar",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"}),this.router.navigate(["/dashboard"])},error:e=>{this.loading=!1;let r=e.error?.message||"Error al iniciar sesi\xF3n";this.snackBar.open(r,"Cerrar",{duration:5e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["error-snackbar"]})}})}}goToForgotPassword(){this.router.navigate(["/forgot-password"])}static \u0275fac=function(l){return new(l||i)};static \u0275cmp=h({type:i,selectors:[["app-login"]],decls:47,vars:8,consts:[[1,"login-wrapper"],[1,"login-background"],[1,"login-container"],[1,"branding-section"],[1,"logo-container"],[1,"brand-icon"],[1,"brand-name"],[1,"brand-tagline"],[1,"login-card","glass-card"],[1,"login-header"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","username","placeholder","Ingrese su usuario","autocomplete","username"],["matPrefix",""],["matInput","","formControlName","password","placeholder","Ingrese su contrase\xF1a","autocomplete","current-password",3,"type"],["mat-icon-button","","matSuffix","","type","button",1,"toggle-password",3,"click"],[1,"form-footer"],["mat-flat-button","","color","primary","type","submit",1,"submit-btn",3,"disabled"],["diameter","24"],["mat-button","","type","button",1,"forgot-password-btn",3,"click"],[1,"login-footer"]],template:function(l,e){if(l&1&&(t(0,"div",0),c(1,"div",1),t(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),o(6,"shopping_basket"),n()(),t(7,"h1",6),o(8,"MangoPOS"),n(),t(9,"p",7),o(10,"Soluciones inteligentes para tu negocio"),n()(),t(11,"mat-card",8)(12,"mat-card-header")(13,"div",9)(14,"h2"),o(15,"Sun Market 2020 C.A."),n(),t(16,"p"),o(17,"Bienvenido de nuevo"),n()()(),t(18,"mat-card-content")(19,"form",10),u("ngSubmit",function(){return e.onSubmit()}),t(20,"mat-form-field",11)(21,"mat-label"),o(22,"Usuario"),n(),c(23,"input",12),t(24,"mat-icon",13),o(25,"person_outline"),n(),f(26,nt,2,0,"mat-error"),n(),t(27,"mat-form-field",11)(28,"mat-label"),o(29,"Contrase\xF1a"),n(),c(30,"input",14),t(31,"mat-icon",13),o(32,"lock_open"),n(),t(33,"button",15),u("click",function(){return e.hidePassword=!e.hidePassword}),t(34,"mat-icon"),o(35),n()(),f(36,et,2,0,"mat-error"),f(37,ot,2,0,"mat-error"),n(),t(38,"div",16)(39,"button",17),f(40,it,1,0,"mat-spinner",18)(41,rt,5,0,"ng-container"),n(),t(42,"button",19),u("click",function(){return e.goToForgotPassword()}),o(43," \xBFOlvid\xF3 su contrase\xF1a? "),n()()()()(),t(44,"div",20)(45,"p"),o(46,"\xA9 2024 MangoPOS. Todos los derechos reservados."),n()()()()),l&2){let r,g,F;a(19),p("formGroup",e.loginForm),a(7),m((r=e.loginForm.get("username"))!=null&&r.hasError("required")&&((r=e.loginForm.get("username"))!=null&&r.touched)?26:-1),a(4),p("type",e.hidePassword?"password":"text"),a(5),_(e.hidePassword?"visibility_off":"visibility"),a(),m((g=e.loginForm.get("password"))!=null&&g.hasError("required")&&((g=e.loginForm.get("password"))!=null&&g.touched)?36:-1),a(),m((F=e.loginForm.get("password"))!=null&&F.hasError("minlength")?37:-1),a(2),p("disabled",e.loading||e.loginForm.invalid),a(),m(e.loading?40:41)}},dependencies:[x,Q,k,D,A,S,z,N,V,G,I,L,H,R,Y,T,J,j,W,K,y,E,v,Z,X,tt,$,B],styles:['@font-face{font-family:Outfit;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJuktqQ4E.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Outfit;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJtEtq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Outfit;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJuktqQ4E.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Outfit;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJtEtq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Outfit;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJuktqQ4E.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Outfit;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJtEtq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Outfit;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJuktqQ4E.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Outfit;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJtEtq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Outfit;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJuktqQ4E.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Outfit;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJtEtq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_nghost-%COMP%]{font-family:Outfit,sans-serif}.login-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;display:flex;justify-content:center;align-items:center;overflow:hidden}.login-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:url(/images/login-bg.png) no-repeat center center;background-size:cover;filter:brightness(.6) blur(2px);z-index:-1;transform:scale(1.1)}.login-container[_ngcontent-%COMP%]{max-width:480px;width:90%;display:flex;flex-direction:column;align-items:center;z-index:1;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.branding-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;color:#fff}.branding-section[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{width:64px;height:64px;background:#fff3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:16px;display:flex;justify-content:center;align-items:center;margin:0 auto 16px;border:1px solid rgba(255,255,255,.3);box-shadow:0 8px 32px #0003}.branding-section[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .brand-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#ff9800}.branding-section[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;letter-spacing:-.5px;text-shadow:0 2px 4px rgba(0,0,0,.3)}.branding-section[_ngcontent-%COMP%]   .brand-tagline[_ngcontent-%COMP%]{font-size:1rem;opacity:.9;margin:4px 0 0;font-weight:300}.glass-card[_ngcontent-%COMP%]{width:100%;background:#ffffffd9;-webkit-backdrop-filter:blur(12px) saturate(180%);backdrop-filter:blur(12px) saturate(180%);border-radius:24px;border:1px solid rgba(255,255,255,.4);box-shadow:0 20px 60px #00000040;overflow:hidden;transition:transform .3s ease}.glass-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.login-header[_ngcontent-%COMP%]{text-align:center;width:100%;padding-top:32px}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#333;font-weight:600}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0 0;color:#666;font-size:.95rem;font-weight:400}mat-card-content[_ngcontent-%COMP%]{padding:32px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.full-width[_ngcontent-%COMP%]{width:100%}  .mat-mdc-form-field-focus-indicator{transition:none!important}  .mat-mdc-form-field .mdc-text-field--outlined{--mdc-outlined-text-field-container-shape: 12px}.form-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-top:16px}.submit-btn[_ngcontent-%COMP%]{height:52px;font-size:1rem;font-weight:600;border-radius:12px;letter-spacing:.5px;display:flex;align-items:center;justify-content:center;gap:8px;background:linear-gradient(135deg,#1a237e,#3949ab);transition:all .3s cubic-bezier(.175,.885,.32,1.275)}.submit-btn[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:0 8px 24px #1a237e66;transform:scale(1.02)}.submit-btn[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin:0!important}.submit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.forgot-password-btn[_ngcontent-%COMP%]{color:#5c6bc0;font-weight:500;font-size:.9rem;transition:color .2s}.forgot-password-btn[_ngcontent-%COMP%]:hover{color:#3949ab;background:#5c6bc00d}.login-footer[_ngcontent-%COMP%]{margin-top:32px;color:#ffffffb3;font-size:.85rem;font-weight:300}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media(max-width:480px){.branding-section[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:2rem}mat-card-content[_ngcontent-%COMP%]{padding:24px}.login-card[_ngcontent-%COMP%]{border-radius:0;height:100vh;display:flex;flex-direction:column;justify-content:center;background:#fff;-webkit-backdrop-filter:none;backdrop-filter:none}.login-wrapper[_ngcontent-%COMP%]{align-items:stretch}.login-container[_ngcontent-%COMP%]{width:100%;max-width:none;height:100%}.login-background[_ngcontent-%COMP%], .branding-section[_ngcontent-%COMP%]{display:none}}  .error-snackbar{background-color:#d32f2f;color:#fff;border-radius:8px;box-shadow:0 4px 12px #0003}']})}return i})();export{Et as LoginComponent};
