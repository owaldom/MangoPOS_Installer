import{a as ue}from"./chunk-GZG33B4A.js";import{b as me,c as de,d as pe}from"./chunk-ISB5W5SX.js";import{b as re}from"./chunk-NL74O3Y5.js";import{a as oe,b as ne}from"./chunk-XEWEKXFC.js";import{a as le}from"./chunk-RFRKPPY3.js";import{a as Y,b as Z,e as ee,f as te,g as ie,h as ae}from"./chunk-Z6YHTX75.js";import{b as W,c as $}from"./chunk-APXOZHQA.js";import{a as Q,b as X}from"./chunk-VNZMNOUU.js";import{d as N}from"./chunk-52A733DE.js";import{b as J,c as j,e as z,f as B,i as L,j as U}from"./chunk-EWTXOCXT.js";import{b as P,d as c,f as F,g as w,k as T,l as O,n as A,o as R,u as k,w as V,x as q,y as G}from"./chunk-AVLO2MYP.js";import{a as H,b as K}from"./chunk-JI7GBIO6.js";import{I,K as D}from"./chunk-M7DMR53X.js";import{l as _,v as y}from"./chunk-ZD4QWOHN.js";import{$ as p,Fb as d,Gb as t,Hb as e,Ib as n,Pb as M,Ub as b,Wa as m,Wb as x,ea as S,fa as C,ic as i,jb as v,jc as h,kc as E,pb as u}from"./chunk-WSMHJDAT.js";function ce(r,f){r&1&&(t(0,"mat-error"),i(1,"Requerido"),e())}function fe(r,f){r&1&&(t(0,"mat-error"),i(1,"Requerido"),e())}function se(r,f){r&1&&(t(0,"div",4)(1,"mat-form-field",5)(2,"mat-label"),i(3,"Deuda Actual (USD)"),e(),n(4,"input",44),e(),t(5,"mat-form-field",5)(6,"mat-label"),i(7,"Total Abonado (USD) (Pagos)"),e(),n(8,"input",45),e()())}function be(r,f){if(r&1){let a=M();t(0,"button",46),b("click",function(){S(a);let l=x();return C(l.save())}),t(1,"mat-icon"),i(2,"save"),e(),i(3),e()}if(r&2){let a=x();d("disabled",a.form.invalid||a.loading),m(3),E(" ",a.isEdit?"Actualizar":"Guardar"," ")}}var ze=(()=>{class r{fb=p(V);supplierService=p(ue);dialogRef=p(Y);data=p(Z);form;isEdit=!1;loading=!1;constructor(){this.form=this.fb.group({cif:["",c.required],name:["",c.required],address:[""],contactcomm:[""],contactfact:[""],payrule:["Contado"],faxnumber:[""],phonecomm:[""],phonefact:[""],email:["",[c.email]],webpage:[""],notes:[""],creditdays:[0],creditlimit:[0],persontype:["Persona Jur\xEDdica domiciliada"],typesupplier:["Nacional"],balance:[{value:0,disabled:!0}],total_paid:[{value:0,disabled:!0}],visible:[!0]})}ngOnInit(){let a=this.data;if(a){let o=a.id?a:a.supplier,l=a.viewOnly||!1;o&&(this.isEdit=!0,this.form.patchValue(o)),l&&(this.form.disable(),this.isEdit=!1)}}save(){if(this.form.invalid)return;this.loading=!0;let a=this.form.value;a.creditlimit=Number(a.creditlimit),a.creditdays=Number(a.creditdays),this.isEdit&&this.data?this.supplierService.update(this.data.id,a).subscribe({next:o=>{this.loading=!1,this.dialogRef.close(o)},error:o=>{console.error(o),this.loading=!1}}):this.supplierService.create(a).subscribe({next:o=>{this.loading=!1,this.dialogRef.close(o)},error:o=>{console.error(o),this.loading=!1}})}cancel(){this.dialogRef.close()}static \u0275fac=function(o){return new(o||r)};static \u0275cmp=v({type:r,selectors:[["app-supplier-dialog"]],decls:129,vars:7,consts:[["mat-dialog-title",""],[1,"supplier-form",3,"formGroup"],["label","General"],[1,"tab-padding"],[1,"form-row","two-cols"],["appearance","outline"],["formControlName","persontype","autofocus",""],["value","Persona Natural Residente"],["value","Persona Jur\xEDdica domiciliada"],["value","Persona Natural no domiciliada"],["value","Persona Jur\xEDdica no domiciliada"],["matInput","","formControlName","cif","placeholder","J-12345678-9","required",""],[4,"ngIf"],["matInput","","formControlName","name","placeholder","Empresa S.A.","required",""],["formControlName","typesupplier"],["value","Nacional"],["value","Extranjero"],[1,"form-row"],["formControlName","visible"],["label","Contacto"],["matInput","","formControlName","contactcomm"],["matSuffix",""],["matInput","","formControlName","contactfact"],[1,"form-row","three-cols"],["matInput","","formControlName","phonecomm","appPhoneFormat",""],["matInput","","formControlName","phonefact","appPhoneFormat",""],["matInput","","formControlName","faxnumber"],["matInput","","formControlName","email","type","email"],["matInput","","formControlName","webpage"],["label","Finanzas"],["formControlName","payrule"],["value","Contado"],["value","Credito"],["matInput","","formControlName","creditdays","type","number"],["matInput","","formControlName","creditlimit","type","text","appMoneyInput","","decimalType","price"],["matPrefix",""],["class","form-row two-cols",4,"ngIf"],["label","Direcci\xF3n y Notas"],["appearance","outline",1,"full-width"],["matInput","","formControlName","address","rows","3"],["matInput","","formControlName","notes","rows","4"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["matInput","","formControlName","balance","type","text","appMoneyInput",""],["matInput","","formControlName","total_paid","type","text","appMoneyInput",""],["mat-raised-button","","color","primary",3,"click","disabled"]],template:function(o,l){if(o&1&&(t(0,"h2",0),i(1),e(),t(2,"mat-dialog-content")(3,"form",1)(4,"mat-tab-group")(5,"mat-tab",2)(6,"div",3)(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),i(10,"Tipo Persona"),e(),t(11,"mat-select",6)(12,"mat-option",7),i(13,"Persona Natural Residente"),e(),t(14,"mat-option",8),i(15,"Persona Jur\xEDdica domiciliada"),e(),t(16,"mat-option",9),i(17,"Persona Natural no domiciliada"),e(),t(18,"mat-option",10),i(19,"Persona Jur\xEDdica no domiciliada"),e()()(),t(20,"mat-form-field",5)(21,"mat-label"),i(22,"RIF / CIF"),e(),n(23,"input",11),u(24,ce,2,0,"mat-error",12),e()(),t(25,"div",4)(26,"mat-form-field",5)(27,"mat-label"),i(28,"Nombre / Raz\xF3n Social"),e(),n(29,"input",13),u(30,fe,2,0,"mat-error",12),e(),t(31,"mat-form-field",5)(32,"mat-label"),i(33,"Tipo Proveedor"),e(),t(34,"mat-select",14)(35,"mat-option",15),i(36,"Nacional"),e(),t(37,"mat-option",16),i(38,"Extranjero"),e()()()(),t(39,"div",17)(40,"mat-checkbox",18),i(41,"Activo / Visible"),e()()()(),t(42,"mat-tab",19)(43,"div",3)(44,"div",4)(45,"mat-form-field",5)(46,"mat-label"),i(47,"Contacto Comercial"),e(),n(48,"input",20),t(49,"mat-icon",21),i(50,"person"),e()(),t(51,"mat-form-field",5)(52,"mat-label"),i(53,"Contacto Facturaci\xF3n"),e(),n(54,"input",22),t(55,"mat-icon",21),i(56,"assignment_ind"),e()()(),t(57,"div",23)(58,"mat-form-field",5)(59,"mat-label"),i(60,"Tlf. Comercial"),e(),n(61,"input",24),t(62,"mat-icon",21),i(63,"phone"),e()(),t(64,"mat-form-field",5)(65,"mat-label"),i(66,"Tlf. Facturaci\xF3n"),e(),n(67,"input",25),t(68,"mat-icon",21),i(69,"phone"),e()(),t(70,"mat-form-field",5)(71,"mat-label"),i(72,"Fax"),e(),n(73,"input",26),t(74,"mat-icon",21),i(75,"print"),e()()(),t(76,"div",4)(77,"mat-form-field",5)(78,"mat-label"),i(79,"Email"),e(),n(80,"input",27),t(81,"mat-icon",21),i(82,"email"),e()(),t(83,"mat-form-field",5)(84,"mat-label"),i(85,"P\xE1gina Web"),e(),n(86,"input",28),t(87,"mat-icon",21),i(88,"language"),e()()()()(),t(89,"mat-tab",29)(90,"div",3)(91,"div",23)(92,"mat-form-field",5)(93,"mat-label"),i(94,"Forma de Pago"),e(),t(95,"mat-select",30)(96,"mat-option",31),i(97,"Contado"),e(),t(98,"mat-option",32),i(99,"Cr\xE9dito"),e()()(),t(100,"mat-form-field",5)(101,"mat-label"),i(102,"D\xEDas Cr\xE9dito"),e(),n(103,"input",33),e(),t(104,"mat-form-field",5)(105,"mat-label"),i(106,"L\xEDmite de Cr\xE9dito (USD)"),e(),n(107,"input",34),t(108,"span",35),i(109,"$\xA0"),e()()(),u(110,se,9,0,"div",36),e()(),t(111,"mat-tab",37)(112,"div",3)(113,"div",17)(114,"mat-form-field",38)(115,"mat-label"),i(116,"Direcci\xF3n"),e(),n(117,"textarea",39),t(118,"mat-icon",21),i(119,"place"),e()()(),t(120,"div",17)(121,"mat-form-field",38)(122,"mat-label"),i(123,"Notas"),e(),n(124,"textarea",40),e()()()()()()(),t(125,"mat-dialog-actions",41)(126,"button",42),b("click",function(){return l.cancel()}),i(127),e(),u(128,be,4,2,"button",43),e()),o&2){let s,g;m(),E(" ",l.form.disabled?"Detalle del Proveedor":l.isEdit?"Editar Proveedor":"Nuevo Proveedor",`
`),m(2),d("formGroup",l.form),m(21),d("ngIf",(s=l.form.get("cif"))==null?null:s.hasError("required")),m(6),d("ngIf",(g=l.form.get("name"))==null?null:g.hasError("required")),m(80),d("ngIf",l.isEdit||l.form.disabled),m(17),h(l.form.disabled?"Cerrar":"Cancelar"),m(),d("ngIf",!l.form.disabled)}},dependencies:[y,_,q,T,P,O,F,w,k,G,R,A,ae,ee,ie,te,U,L,J,j,z,B,$,W,D,I,K,H,X,Q,N,ne,oe,pe,me,de,le,re],styles:[".supplier-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:0}.tab-padding[_ngcontent-%COMP%]{padding:20px 0;display:flex;flex-direction:column;gap:16px}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px;width:100%}.full-width[_ngcontent-%COMP%]{width:100%}.two-cols[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.three-cols[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}mat-dialog-content[_ngcontent-%COMP%]{width:100%;min-height:450px}"]})}return r})();export{ze as a};
