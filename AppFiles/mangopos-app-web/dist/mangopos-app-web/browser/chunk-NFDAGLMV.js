import{a as Ce}from"./chunk-LJW6EPWE.js";import{a as Se}from"./chunk-AZZG3GED.js";import{a as ve}from"./chunk-GZG33B4A.js";import{a as _e}from"./chunk-5MBFWMTP.js";import{a as be}from"./chunk-6XGWOI35.js";import"./chunk-DEAF3FKS.js";import"./chunk-34EVCEMG.js";import{a as xe}from"./chunk-BK63NQ7D.js";import"./chunk-7KQW3R3P.js";import{a as K}from"./chunk-YSABNZJU.js";import"./chunk-6OXQWIOV.js";import{a as fe}from"./chunk-RFRKPPY3.js";import{c as he,h as ge}from"./chunk-Z6YHTX75.js";import{a as Y,b as ee}from"./chunk-26KDQVR5.js";import{a as me}from"./chunk-DGQM6DPS.js";import{a as ue}from"./chunk-SCPRHZYR.js";import"./chunk-YCMZOG5D.js";import{a as pe}from"./chunk-PALJ6VDH.js";import{b as te,f as ie,j as ne,l as oe,p as re,q as ae,r as se,x as le}from"./chunk-AVLO2MYP.js";import{a as ce,b as de}from"./chunk-JI7GBIO6.js";import{H as X,I as Z,K as J}from"./chunk-M7DMR53X.js";import"./chunk-JAVK727W.js";import"./chunk-3TNWXQYU.js";import"./chunk-UWUK32S4.js";import{k as Q,r as H,u as w,v as $}from"./chunk-ZD4QWOHN.js";import{$ as h,$b as A,D as B,Fb as g,Gb as a,Hb as s,Ib as U,Pb as T,Ua as L,Ub as u,Va as V,Wa as p,Wb as b,_b as N,a as O,ac as G,db as R,e as E,ea as c,fa as d,gc as W,ic as l,jb as F,jc as _,kc as S,lc as z,nc as C,oc as M,pb as k,pc as y,rc as j,vc as f,xc as q,zc as x}from"./chunk-WSMHJDAT.js";import{a as I,b as D}from"./chunk-C6Q5SG76.js";var ye=["barcodeInput"];function we(m,v){if(m&1){let e=T();a(0,"div",40),u("click",function(){let t=c(e).index,o=b();return d(o.selectLine(t))}),a(1,"div",12)(2,"div",41),l(3),s()(),a(4,"div",13)(5,"input",42),u("ngModelChange",function(t){let o=c(e).index,n=b();return d(n.updateQuantity(o,t))}),s()(),a(6,"div",14)(7,"input",43),u("ngModelChange",function(t){let o=c(e).index,n=b();return d(n.updatePrice(o,t))}),s()(),a(8,"div",15)(9,"input",44),u("ngModelChange",function(t){let o=c(e).index,n=b();return d(n.updateDiscount(o,t))}),s()(),a(10,"div",45),l(11),f(12,"currency"),s(),a(13,"div",17)(14,"button",46),u("click",function(t){let o=c(e).index;return b().removeLine(o),d(t.stopPropagation())}),a(15,"mat-icon"),l(16,"delete"),s()()()()}if(m&2){let e=v.$implicit,i=v.index,t=b();W("selected",t.selectedLineIndex===i),p(3),_(e.product_name),p(2),g("ngModel",e.units),p(2),g("ngModel",e.price),p(2),g("ngModel",e.discount),p(2),S(" ",x(12,7,e.units*e.price*(1-(e.discount||0)),"USD ","symbol","1.2-2")," ")}}function Pe(m,v){if(m&1&&(a(0,"option",47),l(1),s()),m&2){let e=v.$implicit;g("value",e.id),p(),z("",e.name," (",(e.rate*100).toFixed(0),"%) ")}}var at=(()=>{class m{purchaseService;currentLines=[];selectedSupplier=null;selectedLineIndex=-1;total=0;subtotal=0;taxes=0;totalUSD=0;subtotalUSD=0;taxesUSD=0;globalDiscount=0;discountTotalUSD=0;exchangeRate=1;barcode="";barcodeSubject=new E;taxesList=[];globalTaxId=0;globalTaxRate=0;taxService=h(Ce);invoiceData={numberInvoice:"",numberControl:"",dateInvoice:new Date,notes:""};subscription=new O;snackBar=h(Y);dialog=h(he);authService=h(K);cashService=h(xe);settingsService=h(me);supplierService=h(ve);productService=h(_e);salesService=h(be);barcodeInput;constructor(e){this.purchaseService=e}ngOnInit(){this.subscription.add(this.purchaseService.currentLines$.subscribe(e=>{this.currentLines=e,this.calculateTotals()})),this.subscription.add(this.purchaseService.selectedSupplier$.subscribe(e=>{this.selectedSupplier=e})),this.subscription.add(this.purchaseService.selectedLineIndex$.subscribe(e=>{this.selectedLineIndex=e})),this.subscription.add(this.purchaseService.globalDiscount$.subscribe(e=>{this.globalDiscount=e,this.calculateTotals()})),this.subscription.add(this.purchaseService.purchaseState$.subscribe(e=>{this.globalTaxId=e.globalTaxId||0,this.globalTaxRate=e.globalTaxRate||0,this.calculateTotals()})),this.subscription.add(this.purchaseService.exchangeRate$.subscribe(e=>{this.exchangeRate=e,this.calculateTotals()})),this.loadExchangeRate(),this.loadTaxes(),this.subscription.add(this.barcodeSubject.pipe(B(400)).subscribe(e=>{e&&e.length>=3&&this.processBarcode(e)}))}handleGlobalShortcuts(e){let i=document.activeElement,t=i?.tagName==="INPUT"||i?.tagName==="TEXTAREA";e.key==="F2"?(e.preventDefault(),this.openProductSearch()):t||(e.key==="ArrowUp"?(e.preventDefault(),this.navigateSelection(-1)):e.key==="ArrowDown"?(e.preventDefault(),this.navigateSelection(1)):e.key==="Delete"&&(e.preventDefault(),this.removeSelectedLine()))}navigateSelection(e){if(this.currentLines.length===0)return;let i=this.selectedLineIndex+e;i<0&&(i=0),i>=this.currentLines.length&&(i=this.currentLines.length-1),this.purchaseService.setSelectedLineIndex(i)}removeSelectedLine(){this.selectedLineIndex>=0&&this.selectedLineIndex<this.currentLines.length&&this.purchaseService.removeLine(this.selectedLineIndex)}ngOnDestroy(){this.subscription.unsubscribe()}async loadExchangeRate(){this.salesService.getCurrencies().subscribe(e=>{let i=e.find(t=>t.code==="USD");i&&this.purchaseService.setExchangeRate(i.exchange_rate)})}loadTaxes(){this.taxService.getAll().subscribe(e=>{this.taxesList=e})}calculateTotals(){let i=this.settingsService.getSettings()?.total_decimals||2;this.subtotalUSD=this.currentLines.reduce((o,n)=>{let r=n.units*n.price,P=r*(n.discount||0);return o+(r-P)},0),this.discountTotalUSD=this.subtotalUSD*this.globalDiscount;let t=this.subtotalUSD-this.discountTotalUSD;this.taxesUSD=this.currentLines.reduce((o,n)=>{if(n.regulated)return o;let r=n.units*n.price,P=r*(n.discount||0),Me=(r-P)*(1-this.globalDiscount);return o+Me*this.globalTaxRate},0),this.totalUSD=parseFloat((t+this.taxesUSD).toFixed(i)),this.total=parseFloat((this.totalUSD*this.exchangeRate).toFixed(i)),this.subtotal=parseFloat((this.subtotalUSD*this.exchangeRate).toFixed(i)),this.taxes=parseFloat((this.taxesUSD*this.exchangeRate).toFixed(i))}focusBarcode(){this.barcodeInput&&this.barcodeInput.nativeElement.focus()}onDocumentClick(e){let i=e.target,t=i.tagName==="INPUT"||i.tagName==="TEXTAREA"||i.tagName==="SELECT"||i.isContentEditable,o=i.closest("button");!t&&!o&&this.focusBarcode()}onBarcodeChange(e){this.barcodeSubject.next(e.trim())}processBarcode(e){this.productService.getAll(1,1,{search:e}).subscribe(i=>{if(i.data&&i.data.length>0){let t=i.data.find(o=>o.code===e||o.reference===e)||i.data[0];if(!t.iscom){this.snackBar.open(`El producto "${t.name}" no est\xE1 marcado como comprable.`,"Cerrar",{duration:4e3}),this.barcode="";return}this.addToPurchase(t),this.barcode=""}})}addToPurchase(e,i=1){if(!e.iscom){this.snackBar.open(`No se puede agregar "${e.name}" (No es comprable)`,"Cerrar",{duration:3e3});return}this.purchaseService.addLine({product_id:e.id,product_name:e.name,units:i,price:e.pricebuy||0,taxid:e.taxcat,tax_rate:e.tax_rate||.16,regulated:e.regulated||!1}),this.snackBar.open(`Agregado: ${e.name}`,"OK",{duration:1500})}removeLine(e){this.purchaseService.removeLine(e)}selectLine(e){this.purchaseService.setSelectedLineIndex(e)}updateQuantity(e,i){this.purchaseService.updateLineQuantity(e,parseFloat(i))}updatePrice(e,i){this.purchaseService.updateLinePrice(e,parseFloat(i))}updateDiscount(e,i){this.purchaseService.updateLineDiscount(e,parseFloat(i))}updateGlobalDiscount(e){this.purchaseService.setGlobalDiscount(parseFloat(e))}allowOnlyNumbers(e){!/[0-9]/.test(e.key)&&!["Backspace","Delete","ArrowLeft","ArrowRight","Tab","Enter"].includes(e.key)&&e.preventDefault()}filterInvoiceInput(e,i){let t=e.target.value;this.invoiceData[i]=t.replace(/[^0-9]/g,"")}updateGlobalTax(e){let i=this.taxesList.find(t=>t.id==e);i?this.purchaseService.setGlobalTax(i.id,i.rate):this.purchaseService.setGlobalTax(0,0)}async openProductSearch(){let{ProductSearchDialogComponent:e}=await import("./chunk-TH67JG6E.js");this.dialog.open(e,{width:"800px",height:"600px",data:{allowZeroStock:!0,purchasableOnly:!0}}).afterClosed().subscribe(t=>{t&&t.product&&this.addToPurchase(t.product,t.units)})}async openSupplierSelector(){let{SupplierSelectorDialogComponent:e}=await import("./chunk-A5MYBOIU.js");this.dialog.open(e,{width:"500px"}).afterClosed().subscribe(t=>{t&&this.purchaseService.setSelectedSupplier(t)})}async onSave(){if(!this.selectedSupplier){this.snackBar.open("Debe seleccionar un proveedor","Cerrar",{duration:3e3});return}if(this.currentLines.length===0){this.snackBar.open("No hay productos en la compra","Cerrar",{duration:3e3});return}if(!this.invoiceData.numberInvoice?.trim()||!this.invoiceData.numberControl?.trim()){this.snackBar.open("Debe ingresar el N\xFAmero de Factura y el N\xFAmero de Control","Cerrar",{duration:5e3});return}let{PurchasePaymentDialogComponent:e}=await import("./chunk-HCKMVCVI.js");this.dialog.open(e,{width:"1000px",maxWidth:"95vw",data:{total:this.total,subtotal:this.subtotal,taxes:this.taxes,exchangeRate:this.exchangeRate,totalUSD:this.totalUSD,supplier:this.selectedSupplier}}).afterClosed().subscribe(t=>{t&&this.processSave(t)})}async processSave(e){try{let i=this.authService.getCurrentUser();if(!i){this.snackBar.open("Sesi\xF3n expirada o usuario no encontrado","Cerrar");return}let t=[];if(e.method==="mixed"){for(let n in e.multiparams.payments){let r=e.multiparams.payments[n];r>0&&t.push({method:n,total:r,amount_base:r,currency_id:1,exchange_rate:this.exchangeRate,bank:e.paymentDetails[n]?.bank,bank_id:e.paymentDetails[n]?.bank_id||null,numdocument:e.paymentDetails[n]?.cedula||null,reference:e.paymentDetails[n]?.reference||null,account_number:e.paymentDetails[n]?.account||null,is_pago_movil:e.paymentDetails[n]?.is_pago_movil||!1})}for(let n in e.multiparams.paymentsAlt){let r=e.multiparams.paymentsAlt[n];r>0&&t.push({method:n,total:r,amount_base:r*this.exchangeRate,currency_id:2,exchange_rate:this.exchangeRate,bank:e.paymentDetails[n]?.bank,bank_id:e.paymentDetails[n]?.bank_id||null,numdocument:e.paymentDetails[n]?.cedula||null,reference:e.paymentDetails[n]?.reference||null,account_number:e.paymentDetails[n]?.account||null,is_pago_movil:e.paymentDetails[n]?.is_pago_movil||!1})}}else t.push({method:e.method,total:e.amount,amount_base:e.amount,currency_id:e.currency_id,exchange_rate:this.exchangeRate,bank:e.paymentDetails?e.paymentDetails[e.method]?.bank:null,bank_id:e.bank_id||(e.paymentDetails?e.paymentDetails[e.method]?.bank_id:null),numdocument:e.paymentDetails?e.paymentDetails[e.method]?.cedula:null,reference:e.paymentDetails&&e.paymentDetails[e.method]?.reference||null,account_number:e.paymentDetails?e.paymentDetails[e.method]?.account:null,is_pago_movil:e.paymentDetails?e.paymentDetails[e.method]?.is_pago_movil:!1});let o={supplier_id:this.selectedSupplier.id,person_id:i.id,lines:this.currentLines.map(n=>D(I({},n),{taxid:this.globalTaxId>0&&!n.regulated?this.globalTaxId:n.taxid,tax_rate:this.globalTaxId>0&&!n.regulated?this.globalTaxRate:n.tax_rate})),payments:t,total:this.total,cash_register_id:this.cashService.getCashRegisterId()||1,currency_id:1,exchange_rate:this.exchangeRate,number_invoice:this.invoiceData.numberInvoice,number_control:this.invoiceData.numberControl,date_invoice:this.invoiceData.dateInvoice,notes:this.invoiceData.notes,global_discount:this.globalDiscount};await this.purchaseService.createPurchase(o).toPromise(),this.snackBar.open("Compra registrada con \xE9xito","OK",{duration:3e3}),this.invoiceData={numberInvoice:"",numberControl:"",dateInvoice:new Date,notes:""}}catch(i){this.snackBar.open("Error al registrar compra: "+(i.error?.error||i.message),"Cerrar")}}static \u0275fac=function(i){return new(i||m)(R(Se))};static \u0275cmp=F({type:m,selectors:[["app-purchases"]],viewQuery:function(i,t){if(i&1&&N(ye,5),i&2){let o;A(o=G())&&(t.barcodeInput=o.first)}},hostBindings:function(i,t){i&1&&u("keydown",function(n){return t.handleGlobalShortcuts(n)},L)("click",function(n){return t.onDocumentClick(n)},V)},features:[j([w])],decls:78,vars:42,consts:[["barcodeInput",""],[1,"purchase-container"],[1,"purchase-header"],[1,"action-bar"],["mat-raised-button","","color","primary",3,"click"],[1,"invoice-details"],["type","text","placeholder","N\xB0 Factura",1,"small-input",3,"ngModelChange","keypress","input","ngModel"],["type","text","placeholder","N\xB0 Control",1,"small-input",3,"ngModelChange","keypress","input","ngModel"],["type","date",1,"small-input",3,"ngModelChange","ngModel"],[1,"purchase-content"],[1,"lines-area"],[1,"lines-header"],[1,"col-name"],[1,"col-qty"],[1,"col-price"],[1,"col-discount"],[1,"col-total"],[1,"col-actions"],[1,"lines-list","scrollable"],["class","line-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"side-area"],[1,"barcode-search"],["type","text","placeholder","Escanear o buscar producto...","autofocus","",3,"ngModelChange","ngModel"],["mat-icon-button","","color","primary","matTooltip","Buscar Producto (F2)",3,"click"],[1,"totals-panel","card"],[1,"total-row"],[1,"total-row","discount-row"],[1,"discount-label"],["type","text","appMoneyInput","",1,"global-discount-input",3,"ngModelChange","ngModel"],[1,"discount-amount"],[1,"total-row","tax-selection-row"],[1,"tax-select-global",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"total-main"],[1,"amount-container"],[1,"main-amount"],[1,"alt-amount"],[1,"btn-actions"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","accent",1,"save-btn",3,"click"],[1,"line-item",3,"click"],[1,"product-name"],["type","number",1,"qty-input",3,"ngModelChange","ngModel"],["type","text","appMoneyInput","","decimalType","price",1,"price-input",3,"ngModelChange","ngModel"],["type","text","appMoneyInput","",1,"discount-input",3,"ngModelChange","ngModel"],[1,"col-total","text-right"],["mat-icon-button","","color","warn",3,"click"],[3,"value"]],template:function(i,t){if(i&1){let o=T();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),u("click",function(){return c(o),d(t.openSupplierSelector())}),a(4,"mat-icon"),l(5,"person"),s(),l(6),s(),a(7,"div",5)(8,"input",6),y("ngModelChange",function(r){return c(o),M(t.invoiceData.numberInvoice,r)||(t.invoiceData.numberInvoice=r),d(r)}),u("keypress",function(r){return c(o),d(t.allowOnlyNumbers(r))})("input",function(r){return c(o),d(t.filterInvoiceInput(r,"numberInvoice"))}),s(),a(9,"input",7),y("ngModelChange",function(r){return c(o),M(t.invoiceData.numberControl,r)||(t.invoiceData.numberControl=r),d(r)}),u("keypress",function(r){return c(o),d(t.allowOnlyNumbers(r))})("input",function(r){return c(o),d(t.filterInvoiceInput(r,"numberControl"))}),s(),a(10,"input",8),f(11,"date"),u("ngModelChange",function(r){return c(o),d(t.invoiceData.dateInvoice=r)}),s()()()(),a(12,"div",9)(13,"div",10)(14,"div",11)(15,"span",12),l(16,"Producto"),s(),a(17,"span",13),l(18,"Cant"),s(),a(19,"span",14),l(20,"Precio"),s(),a(21,"span",15),l(22,"Desc %"),s(),a(23,"span",16),l(24,"Total"),s(),U(25,"span",17),s(),a(26,"div",18),k(27,we,17,12,"div",19),s()(),a(28,"div",20)(29,"div",21)(30,"mat-icon"),l(31,"qr_code_scanner"),s(),a(32,"input",22,0),y("ngModelChange",function(r){return c(o),M(t.barcode,r)||(t.barcode=r),d(r)}),u("ngModelChange",function(r){return c(o),d(t.onBarcodeChange(r))}),s(),a(34,"button",23),u("click",function(){return c(o),d(t.openProductSearch())}),a(35,"mat-icon"),l(36,"search"),s()()(),a(37,"div",24)(38,"div",25)(39,"span"),l(40,"Subtotal"),s(),a(41,"span"),l(42),f(43,"currency"),s()(),a(44,"div",26)(45,"div",27)(46,"span"),l(47,"Descuento Global %"),s(),a(48,"input",28),u("ngModelChange",function(r){return c(o),d(t.updateGlobalDiscount(r))}),s()(),a(49,"span",29),l(50),f(51,"currency"),s()(),a(52,"div",30)(53,"span"),l(54,"Impuesto General"),s(),a(55,"select",31),u("ngModelChange",function(r){return c(o),d(t.updateGlobalTax(r))}),k(56,Pe,2,3,"option",32),s()(),a(57,"div",25)(58,"span"),l(59,"Total Impuestos"),s(),a(60,"span"),l(61),f(62,"currency"),s()(),a(63,"div",33)(64,"span"),l(65,"TOTAL"),s(),a(66,"div",34)(67,"span",35),l(68),f(69,"currency"),s(),a(70,"span",36),l(71),f(72,"currency"),s()()(),a(73,"div",37)(74,"button",38),u("click",function(){return c(o),d(t.purchaseService.clearPurchase())}),l(75,"Limpiar"),s(),a(76,"button",39),u("click",function(){return c(o),d(t.onSave())}),l(77,"PROCESAR COMPRA"),s()()()()()()}i&2&&(p(6),S(" ",t.selectedSupplier?t.selectedSupplier.name:"Seleccionar Proveedor"," "),p(2),C("ngModel",t.invoiceData.numberInvoice),p(),C("ngModel",t.invoiceData.numberControl),p(),g("ngModel",q(11,14,t.invoiceData.dateInvoice,"yyyy-MM-dd")),p(17),g("ngForOf",t.currentLines),p(5),C("ngModel",t.barcode),p(10),_(x(43,17,t.subtotal,"Bs. ","symbol","1.2-2")),p(6),g("ngModel",t.globalDiscount),p(2),S("- ",x(51,22,t.discountTotalUSD*t.exchangeRate,"Bs. ","symbol","1.2-2")),p(5),g("ngModel",t.globalTaxId),p(),g("ngForOf",t.taxesList),p(5),_(x(62,27,t.taxes,"Bs. ","symbol","1.2-2")),p(7),_(x(69,32,t.total,"Bs. ","symbol","1.2-2")),p(3),_(x(72,37,t.totalUSD,"USD ","symbol","1.2-2")))},dependencies:[$,Q,le,ae,se,te,oe,re,ie,ne,de,ce,J,Z,X,ue,pe,ge,ee,fe,w,H],styles:[".purchase-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100vh - 120px);padding:20px;background-color:#f5f7fa;color:#2c3e50;font-family:Inter,sans-serif}.purchase-header[_ngcontent-%COMP%]{margin-bottom:20px}.action-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#fff;padding:15px 20px;border-radius:12px;box-shadow:0 4px 6px -1px #0000001a}.invoice-details[_ngcontent-%COMP%]{display:flex;gap:10px}.small-input[_ngcontent-%COMP%]{border:1px solid #dcdfe6;border-radius:8px;padding:8px 12px;font-size:14px;width:150px;outline:none;transition:border-color .3s}.small-input[_ngcontent-%COMP%]:focus{border-color:#409eff}.purchase-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 400px;gap:20px;flex:1;min-height:0}.lines-area[_ngcontent-%COMP%]{background:#fff;border-radius:12px;display:flex;flex-direction:column;box-shadow:0 4px 6px -1px #0000001a;overflow:hidden}.lines-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 80px 110px 90px 120px 60px;padding:15px 20px;background:#f8f9fb;font-weight:600;border-bottom:1px solid #ebeef5}.lines-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.line-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 80px 110px 90px 120px 60px;padding:12px 20px;align-items:center;border-bottom:1px solid #ebeef5;cursor:pointer;transition:background .2s}.line-item[_ngcontent-%COMP%]:hover{background:#f0f4f8}.line-item.selected[_ngcontent-%COMP%]{background:#eef5ff}.qty-input[_ngcontent-%COMP%], .price-input[_ngcontent-%COMP%]{width:80%;border:1px solid transparent;background:#f4f6f8;border-radius:6px;padding:6px 8px;text-align:center}.qty-input[_ngcontent-%COMP%]:focus, .price-input[_ngcontent-%COMP%]:focus, .discount-input[_ngcontent-%COMP%]:focus{background:#fff;border-color:#409eff;outline:none}.discount-input[_ngcontent-%COMP%]{width:70%;border:1px solid transparent;background:#f4f6f8;border-radius:6px;padding:6px 8px;text-align:center}.tax-select[_ngcontent-%COMP%]{width:95%;border:1px solid transparent;background:#f4f6f8;border-radius:6px;padding:6px 4px;font-size:13px;outline:none;cursor:pointer}.tax-select[_ngcontent-%COMP%]:focus{background:#fff;border-color:#409eff}.side-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.barcode-search[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background:#fff;padding:15px 20px;border-radius:12px;box-shadow:0 4px 6px -1px #0000001a}.barcode-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;font-size:16px;outline:none}.totals-panel[_ngcontent-%COMP%]{padding:25px;background:#fff;border-radius:12px;box-shadow:0 10px 15px -3px #0000001a;display:flex;flex-direction:column;gap:15px}.total-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:16px;color:#606266}.discount-row[_ngcontent-%COMP%]{color:#f56c6c}.discount-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.global-discount-input[_ngcontent-%COMP%]{width:60px;border:1px solid #dcdfe6;border-radius:4px;padding:4px 6px;font-size:14px;text-align:center}.discount-amount[_ngcontent-%COMP%]{font-weight:600}.total-main[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:2px dashed #ebeef5;display:flex;justify-content:space-between;align-items:flex-start}.total-main[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:800;font-size:20px;color:#1a1a1a}.amount-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.main-amount[_ngcontent-%COMP%]{font-size:32px;font-weight:900;color:#2b52e1}.alt-amount[_ngcontent-%COMP%]{font-size:18px;color:#67c23a;font-weight:600}.btn-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:10px;margin-top:20px}.save-btn[_ngcontent-%COMP%]{height:50px;font-size:16px!important;font-weight:700!important}.text-right[_ngcontent-%COMP%]{text-align:right}.scrollable[_ngcontent-%COMP%]{overflow-y:auto}.tax-select-global[_ngcontent-%COMP%]{width:180px;border:1px solid #dcdfe6;border-radius:8px;padding:8px 12px;font-size:14px;outline:none;transition:border-color .3s;background-color:#fff;cursor:pointer}.tax-select-global[_ngcontent-%COMP%]:focus{border-color:#409eff}.tax-selection-row[_ngcontent-%COMP%]{background:#f8f9fb;padding:10px;border-radius:8px;margin:5px -10px}"]})}return m})();export{at as PurchasesComponent};
